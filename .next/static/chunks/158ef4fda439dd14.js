(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,329096,828804,e=>{"use strict";var t=e.i(468368),r=e.i(95767),s=e.i(871706),n=e.i(984534),o=e.i(522662);let a=new Map;async function c(e){let{getSocket:t,keepAlive:c=!0,key:i="socket",reconnect:l=!0,url:u}=e,{interval:d=3e4}="object"==typeof c?c:{},{attempts:f=5,delay:p=2e3}="object"==typeof l?l:{},h=JSON.stringify({keepAlive:c,key:i,url:u,reconnect:l}),b=a.get(h);if(b)return b;let m=0,{schedule:v}=(0,s.createBatchScheduler)({id:h,fn:async()=>{let e,s,i,v=new Map,y=new Map,S=!1;function w(){l&&m<f?S||(S=!0,m++,s?.close(),setTimeout(async()=>{await k().catch(console.error),S=!1},p)):(v.clear(),y.clear())}async function k(){let n=await t({onClose(){for(let e of v.values())e.onError?.(new r.SocketClosedError({url:u}));for(let e of y.values())e.onError?.(new r.SocketClosedError({url:u}));w()},onError(t){for(let r of(e=t,v.values()))r.onError?.(e);for(let t of y.values())t.onError?.(e);w()},onOpen(){e=void 0,m=0},onResponse(e){let t="eth_subscription"===e.method,r=t?e.params.subscription:e.id,s=t?y:v,n=s.get(r);n&&n.onResponse(e),t||s.delete(r)}});if(s=n,c&&(i&&clearInterval(i),i=setInterval(()=>s.ping?.(),d)),l&&y.size>0)for(let[e,{onResponse:t,body:r,onError:s}]of y.entries())r&&(y.delete(e),b?.request({body:r,onResponse:t,onError:s}));return n}return await k(),e=void 0,b={close(){i&&clearInterval(i),s.close(),a.delete(h)},get socket(){return s},request({body:t,onError:r,onResponse:n}){e&&r&&r(e);let a=t.id??o.idCache.take(),c=e=>{("number"!=typeof e.id||a===e.id)&&("eth_subscribe"===t.method&&"string"==typeof e.result&&y.set(e.result,{onResponse:c,onError:r,body:t}),n(e))};"eth_unsubscribe"===t.method&&y.delete(t.params?.[0]),v.set(a,{onResponse:c,onError:r});try{s.request({body:{jsonrpc:"2.0",id:a,...t}})}catch(e){r?.(e)}},requestAsync({body:e,timeout:t=1e4}){return(0,n.withTimeout)(()=>new Promise((t,r)=>this.request({body:e,onError:r,onResponse:t})),{errorInstance:new r.TimeoutError({body:e,url:u}),timeout:t})},requests:v,subscriptions:y,url:u},a.set(h,b),[b]}}),[y,[S]]=await v();return S}async function i(t,s={}){let{keepAlive:n,reconnect:o}=s;return c({async getSocket({onClose:s,onError:n,onOpen:o,onResponse:a}){let c=await e.A(432003).then(e=>e.WebSocket),i=new c(t);function l(){i.removeEventListener("close",l),i.removeEventListener("message",u),i.removeEventListener("error",n),i.removeEventListener("open",o),s()}function u({data:e}){if("string"!=typeof e||0!==e.trim().length)try{let t=JSON.parse(e);a(t)}catch(e){n(e)}}i.addEventListener("close",l),i.addEventListener("message",u),i.addEventListener("error",n),i.addEventListener("open",o),i.readyState===c.CONNECTING&&await new Promise((e,t)=>{i&&(i.onopen=e,i.onerror=t)});let{close:d}=i;return Object.assign(i,{close(){d.bind(i)(),l()},ping(){try{if(i.readyState===i.CLOSED||i.readyState===i.CLOSING)throw new r.WebSocketRequestError({url:i.url,cause:new r.SocketClosedError({url:i.url})});i.send(JSON.stringify({jsonrpc:"2.0",id:null,method:"net_version",params:[]}))}catch(e){n(e)}},request({body:e}){if(i.readyState===i.CLOSED||i.readyState===i.CLOSING)throw new r.WebSocketRequestError({body:e,url:i.url,cause:new r.SocketClosedError({url:i.url})});return i.send(JSON.stringify(e))}})},keepAlive:n,reconnect:o,url:t})}async function l(e,{body:t,timeout:r=1e4}){return e.requestAsync({body:t,timeout:r})}async function u(e){let t=await i(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}e.s(["getWebSocketRpcClient",()=>i],828804),e.s(["getSocket",()=>u,"rpc",0,{http:(e,r)=>(0,t.getHttpRpcClient)(e).request(r),webSocket:function(e,{body:t,onError:r,onResponse:s}){return e.request({body:t,onError:r,onResponse:s}),e},webSocketAsync:l}],329096)},432003,e=>{e.v(t=>Promise.all(["static/chunks/ab57f4246cfab504.js"].map(t=>e.l(t))).then(()=>t(313037)))},224814,e=>{e.v(t=>Promise.all(["static/chunks/32257206d188e1fa.js","static/chunks/7e844e3b8e1f17ff.js","static/chunks/da820572f639d257.js","static/chunks/b584e625809458db.js"].map(t=>e.l(t))).then(()=>t(653806)))},474683,e=>{e.v(t=>Promise.all(["static/chunks/798aaae6e4c41d3c.js"].map(t=>e.l(t))).then(()=>t(289329)))},381024,e=>{e.v(t=>Promise.all(["static/chunks/8b15498eb852e1a6.js","static/chunks/70b6a605559db46d.js"].map(t=>e.l(t))).then(()=>t(607627)))}]);