{"version":3,"sources":["../../../../node_modules/viem/utils/wait.ts","../../../../node_modules/viem/errors/rpc.ts","../../../../node_modules/viem/utils/promise/withDedupe.ts","../../../../node_modules/viem/utils/promise/withRetry.ts","../../../../node_modules/viem/utils/buildRequest.ts","../../../../node_modules/viem/utils/uid.ts","../../../../node_modules/viem/utils/promise/withTimeout.ts","../../../../node_modules/viem/errors/transport.ts","../../../../node_modules/viem/clients/transports/createTransport.ts","../../../../node_modules/viem/utils/rpc/id.ts","../../../../node_modules/viem/clients/transports/http.ts","../../../../node_modules/viem/utils/rpc/http.ts","../../../../node_modules/viem/clients/transports/fallback.ts"],"sourcesContent":["export async function wait(time: number) {\n  return new Promise((res) => setTimeout(res, time))\n}\n","import type { Prettify } from '../types/utils.js'\nimport { BaseError } from './base.js'\nimport { RpcRequestError } from './request.js'\n\nconst unknownErrorCode = -1\n\nexport type RpcErrorCode =\n  | -1\n  | -32700 // Parse error\n  | -32600 // Invalid request\n  | -32601 // Method not found\n  | -32602 // Invalid params\n  | -32603 // Internal error\n  | -32000 // Invalid input\n  | -32001 // Resource not found\n  | -32002 // Resource unavailable\n  | -32003 // Transaction rejected\n  | -32004 // Method not supported\n  | -32005 // Limit exceeded\n  | -32006 // JSON-RPC version not supported\n  | -32042 // Method not found\n\ntype RpcErrorOptions<code extends number = RpcErrorCode> = {\n  code?: code | (number & {}) | undefined\n  docsPath?: string | undefined\n  metaMessages?: string[] | undefined\n  name?: string | undefined\n  shortMessage: string\n}\n\n/**\n * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors per EIP-1474.\n *\n * - EIP https://eips.ethereum.org/EIPS/eip-1474\n */\nexport type RpcErrorType = RpcError & { name: 'RpcError' }\nexport class RpcError<code_ extends number = RpcErrorCode> extends BaseError {\n  code: code_ | (number & {})\n\n  constructor(\n    cause: Error,\n    {\n      code,\n      docsPath,\n      metaMessages,\n      name,\n      shortMessage,\n    }: RpcErrorOptions<code_>,\n  ) {\n    super(shortMessage, {\n      cause,\n      docsPath,\n      metaMessages:\n        metaMessages || (cause as { metaMessages?: string[] })?.metaMessages,\n      name: name || 'RpcError',\n    })\n    this.name = name || cause.name\n    this.code = (\n      cause instanceof RpcRequestError ? cause.code : (code ?? unknownErrorCode)\n    ) as code_\n  }\n}\n\nexport type ProviderRpcErrorCode =\n  | 4001 // User Rejected Request\n  | 4100 // Unauthorized\n  | 4200 // Unsupported Method\n  | 4900 // Disconnected\n  | 4901 // Chain Disconnected\n  | 4902 // Chain Not Recognized\n  | 5700 // Unsupported non-optional capability\n  | 5710 // Unsupported chain id\n  | 5720 // Duplicate ID\n  | 5730 // Unknown bundle id\n  | 5740 // Bundle too large\n  | 5750 // Atomic-ready wallet rejected upgrade\n  | 5760 // Atomicity not supported\n\n/**\n * Error subclass implementing Ethereum Provider errors per EIP-1193.\n *\n * - EIP https://eips.ethereum.org/EIPS/eip-1193\n */\nexport type ProviderRpcErrorType = ProviderRpcError & {\n  name: 'ProviderRpcError'\n}\nexport class ProviderRpcError<\n  T = undefined,\n> extends RpcError<ProviderRpcErrorCode> {\n  data?: T | undefined\n\n  constructor(\n    cause: Error,\n    options: Prettify<\n      RpcErrorOptions<ProviderRpcErrorCode> & {\n        data?: T | undefined\n      }\n    >,\n  ) {\n    super(cause, options)\n\n    this.data = options.data\n  }\n}\n\n/**\n * Subclass for a \"Parse error\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type ParseRpcErrorType = ParseRpcError & {\n  code: -32700\n  name: 'ParseRpcError'\n}\nexport class ParseRpcError extends RpcError {\n  static code = -32700 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: ParseRpcError.code,\n      name: 'ParseRpcError',\n      shortMessage:\n        'Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.',\n    })\n  }\n}\n\n/**\n * Subclass for a \"Invalid request\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type InvalidRequestRpcErrorType = InvalidRequestRpcError & {\n  code: -32600\n  name: 'InvalidRequestRpcError'\n}\nexport class InvalidRequestRpcError extends RpcError {\n  static code = -32600 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: InvalidRequestRpcError.code,\n      name: 'InvalidRequestRpcError',\n      shortMessage: 'JSON is not a valid request object.',\n    })\n  }\n}\n\n/**\n * Subclass for a \"Method not found\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type MethodNotFoundRpcErrorType = MethodNotFoundRpcError & {\n  code: -32601\n  name: 'MethodNotFoundRpcError'\n}\nexport class MethodNotFoundRpcError extends RpcError {\n  static code = -32601 as const\n\n  constructor(cause: Error, { method }: { method?: string } = {}) {\n    super(cause, {\n      code: MethodNotFoundRpcError.code,\n      name: 'MethodNotFoundRpcError',\n      shortMessage: `The method${method ? ` \"${method}\"` : ''} does not exist / is not available.`,\n    })\n  }\n}\n\n/**\n * Subclass for an \"Invalid params\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type InvalidParamsRpcErrorType = InvalidParamsRpcError & {\n  code: -32602\n  name: 'InvalidParamsRpcError'\n}\nexport class InvalidParamsRpcError extends RpcError {\n  static code = -32602 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: InvalidParamsRpcError.code,\n      name: 'InvalidParamsRpcError',\n      shortMessage: [\n        'Invalid parameters were provided to the RPC method.',\n        'Double check you have provided the correct parameters.',\n      ].join('\\n'),\n    })\n  }\n}\n\n/**\n * Subclass for an \"Internal error\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type InternalRpcErrorType = InternalRpcError & {\n  code: -32603\n  name: 'InternalRpcError'\n}\nexport class InternalRpcError extends RpcError {\n  static code = -32603 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: InternalRpcError.code,\n      name: 'InternalRpcError',\n      shortMessage: 'An internal error was received.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Invalid input\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type InvalidInputRpcErrorType = InvalidInputRpcError & {\n  code: -32000\n  name: 'InvalidInputRpcError'\n}\nexport class InvalidInputRpcError extends RpcError {\n  static code = -32000 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: InvalidInputRpcError.code,\n      name: 'InvalidInputRpcError',\n      shortMessage: [\n        'Missing or invalid parameters.',\n        'Double check you have provided the correct parameters.',\n      ].join('\\n'),\n    })\n  }\n}\n\n/**\n * Subclass for a \"Resource not found\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type ResourceNotFoundRpcErrorType = ResourceNotFoundRpcError & {\n  code: -32001\n  name: 'ResourceNotFoundRpcError'\n}\nexport class ResourceNotFoundRpcError extends RpcError {\n  override name = 'ResourceNotFoundRpcError'\n  static code = -32001 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: ResourceNotFoundRpcError.code,\n      name: 'ResourceNotFoundRpcError',\n      shortMessage: 'Requested resource not found.',\n    })\n  }\n}\n\n/**\n * Subclass for a \"Resource unavailable\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type ResourceUnavailableRpcErrorType = ResourceUnavailableRpcError & {\n  code: -32002\n  name: 'ResourceUnavailableRpcError'\n}\nexport class ResourceUnavailableRpcError extends RpcError {\n  static code = -32002 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: ResourceUnavailableRpcError.code,\n      name: 'ResourceUnavailableRpcError',\n      shortMessage: 'Requested resource not available.',\n    })\n  }\n}\n\n/**\n * Subclass for a \"Transaction rejected\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type TransactionRejectedRpcErrorType = TransactionRejectedRpcError & {\n  code: -32003\n  name: 'TransactionRejectedRpcError'\n}\nexport class TransactionRejectedRpcError extends RpcError {\n  static code = -32003 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: TransactionRejectedRpcError.code,\n      name: 'TransactionRejectedRpcError',\n      shortMessage: 'Transaction creation failed.',\n    })\n  }\n}\n\n/**\n * Subclass for a \"Method not supported\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type MethodNotSupportedRpcErrorType = MethodNotSupportedRpcError & {\n  code: -32004\n  name: 'MethodNotSupportedRpcError'\n}\nexport class MethodNotSupportedRpcError extends RpcError {\n  static code = -32004 as const\n\n  constructor(cause: Error, { method }: { method?: string } = {}) {\n    super(cause, {\n      code: MethodNotSupportedRpcError.code,\n      name: 'MethodNotSupportedRpcError',\n      shortMessage: `Method${method ? ` \"${method}\"` : ''} is not supported.`,\n    })\n  }\n}\n\n/**\n * Subclass for a \"Limit exceeded\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type LimitExceededRpcErrorType = LimitExceededRpcError & {\n  code: -32005\n  name: 'LimitExceededRpcError'\n}\nexport class LimitExceededRpcError extends RpcError {\n  static code = -32005 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: LimitExceededRpcError.code,\n      name: 'LimitExceededRpcError',\n      shortMessage: 'Request exceeds defined limit.',\n    })\n  }\n}\n\n/**\n * Subclass for a \"JSON-RPC version not supported\" EIP-1474 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1474#error-codes\n */\nexport type JsonRpcVersionUnsupportedErrorType =\n  JsonRpcVersionUnsupportedError & {\n    code: -32006\n    name: 'JsonRpcVersionUnsupportedError'\n  }\nexport class JsonRpcVersionUnsupportedError extends RpcError {\n  static code = -32006 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: JsonRpcVersionUnsupportedError.code,\n      name: 'JsonRpcVersionUnsupportedError',\n      shortMessage: 'Version of JSON-RPC protocol is not supported.',\n    })\n  }\n}\n\n/**\n * Subclass for a \"User Rejected Request\" EIP-1193 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1193#provider-errors\n */\nexport type UserRejectedRequestErrorType = UserRejectedRequestError & {\n  code: 4001\n  name: 'UserRejectedRequestError'\n}\nexport class UserRejectedRequestError extends ProviderRpcError {\n  static code = 4001 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: UserRejectedRequestError.code,\n      name: 'UserRejectedRequestError',\n      shortMessage: 'User rejected the request.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Unauthorized\" EIP-1193 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1193#provider-errors\n */\nexport type UnauthorizedProviderErrorType = UnauthorizedProviderError & {\n  code: 4100\n  name: 'UnauthorizedProviderError'\n}\nexport class UnauthorizedProviderError extends ProviderRpcError {\n  static code = 4100 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: UnauthorizedProviderError.code,\n      name: 'UnauthorizedProviderError',\n      shortMessage:\n        'The requested method and/or account has not been authorized by the user.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Unsupported Method\" EIP-1193 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1193#provider-errors\n */\nexport type UnsupportedProviderMethodErrorType =\n  UnsupportedProviderMethodError & {\n    code: 4200\n    name: 'UnsupportedProviderMethodError'\n  }\nexport class UnsupportedProviderMethodError extends ProviderRpcError {\n  static code = 4200 as const\n\n  constructor(cause: Error, { method }: { method?: string } = {}) {\n    super(cause, {\n      code: UnsupportedProviderMethodError.code,\n      name: 'UnsupportedProviderMethodError',\n      shortMessage: `The Provider does not support the requested method${method ? ` \" ${method}\"` : ''}.`,\n    })\n  }\n}\n\n/**\n * Subclass for an \"Disconnected\" EIP-1193 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1193#provider-errors\n */\nexport type ProviderDisconnectedErrorType = ProviderDisconnectedError & {\n  code: 4900\n  name: 'ProviderDisconnectedError'\n}\nexport class ProviderDisconnectedError extends ProviderRpcError {\n  static code = 4900 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: ProviderDisconnectedError.code,\n      name: 'ProviderDisconnectedError',\n      shortMessage: 'The Provider is disconnected from all chains.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Chain Disconnected\" EIP-1193 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1193#provider-errors\n */\nexport type ChainDisconnectedErrorType = ChainDisconnectedError & {\n  code: 4901\n  name: 'ChainDisconnectedError'\n}\nexport class ChainDisconnectedError extends ProviderRpcError {\n  static code = 4901 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: ChainDisconnectedError.code,\n      name: 'ChainDisconnectedError',\n      shortMessage: 'The Provider is not connected to the requested chain.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Switch Chain\" EIP-1193 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-1193#provider-errors\n */\nexport type SwitchChainErrorType = SwitchChainError & {\n  code: 4902\n  name: 'SwitchChainError'\n}\nexport class SwitchChainError extends ProviderRpcError {\n  static code = 4902 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: SwitchChainError.code,\n      name: 'SwitchChainError',\n      shortMessage: 'An error occurred when attempting to switch chain.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Unsupported non-optional capability\" EIP-5792 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-5792#error-codes\n */\nexport type UnsupportedNonOptionalCapabilityErrorType =\n  UnsupportedNonOptionalCapabilityError & {\n    code: 5700\n    name: 'UnsupportedNonOptionalCapabilityError'\n  }\nexport class UnsupportedNonOptionalCapabilityError extends ProviderRpcError {\n  static code = 5700 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: UnsupportedNonOptionalCapabilityError.code,\n      name: 'UnsupportedNonOptionalCapabilityError',\n      shortMessage:\n        'This Wallet does not support a capability that was not marked as optional.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Unsupported chain id\" EIP-5792 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-5792#error-codes\n */\nexport type UnsupportedChainIdErrorType = UnsupportedChainIdError & {\n  code: 5710\n  name: 'UnsupportedChainIdError'\n}\nexport class UnsupportedChainIdError extends ProviderRpcError {\n  static code = 5710 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: UnsupportedChainIdError.code,\n      name: 'UnsupportedChainIdError',\n      shortMessage: 'This Wallet does not support the requested chain ID.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Duplicate ID\" EIP-5792 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-5792#error-codes\n */\nexport type DuplicateIdErrorType = DuplicateIdError & {\n  code: 5720\n  name: 'DuplicateIdError'\n}\nexport class DuplicateIdError extends ProviderRpcError {\n  static code = 5720 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: DuplicateIdError.code,\n      name: 'DuplicateIdError',\n      shortMessage: 'There is already a bundle submitted with this ID.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Unknown bundle ID\" EIP-5792 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-5792#error-codes\n */\nexport type UnknownBundleIdErrorType = UnknownBundleIdError & {\n  code: 5730\n  name: 'UnknownBundleIdError'\n}\nexport class UnknownBundleIdError extends ProviderRpcError {\n  static code = 5730 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: UnknownBundleIdError.code,\n      name: 'UnknownBundleIdError',\n      shortMessage: 'This bundle id is unknown / has not been submitted',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Bundle too large\" EIP-5792 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-5792#error-codes\n */\nexport type BundleTooLargeErrorType = BundleTooLargeError & {\n  code: 5740\n  name: 'BundleTooLargeError'\n}\nexport class BundleTooLargeError extends ProviderRpcError {\n  static code = 5740 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: BundleTooLargeError.code,\n      name: 'BundleTooLargeError',\n      shortMessage: 'The call bundle is too large for the Wallet to process.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Atomic-ready wallet rejected upgrade\" EIP-5792 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-5792#error-codes\n */\nexport type AtomicReadyWalletRejectedUpgradeErrorType =\n  AtomicReadyWalletRejectedUpgradeError & {\n    code: 5750\n    name: 'AtomicReadyWalletRejectedUpgradeError'\n  }\nexport class AtomicReadyWalletRejectedUpgradeError extends ProviderRpcError {\n  static code = 5750 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: AtomicReadyWalletRejectedUpgradeError.code,\n      name: 'AtomicReadyWalletRejectedUpgradeError',\n      shortMessage:\n        'The Wallet can support atomicity after an upgrade, but the user rejected the upgrade.',\n    })\n  }\n}\n\n/**\n * Subclass for an \"Atomicity not supported\" EIP-5792 error.\n *\n * EIP https://eips.ethereum.org/EIPS/eip-5792#error-codes\n */\nexport type AtomicityNotSupportedErrorType = AtomicityNotSupportedError & {\n  code: 5760\n  name: 'AtomicityNotSupportedError'\n}\nexport class AtomicityNotSupportedError extends ProviderRpcError {\n  static code = 5760 as const\n\n  constructor(cause: Error) {\n    super(cause, {\n      code: AtomicityNotSupportedError.code,\n      name: 'AtomicityNotSupportedError',\n      shortMessage:\n        'The wallet does not support atomic execution but the request requires it.',\n    })\n  }\n}\n\n/**\n * Subclass for an unknown RPC error.\n */\nexport type UnknownRpcErrorType = UnknownRpcError & {\n  name: 'UnknownRpcError'\n}\nexport class UnknownRpcError extends RpcError {\n  constructor(cause: Error) {\n    super(cause, {\n      name: 'UnknownRpcError',\n      shortMessage: 'An unknown RPC error occurred.',\n    })\n  }\n}\n","import { LruMap } from '../lru.js'\n\n/** @internal */\nexport const promiseCache = /*#__PURE__*/ new LruMap<Promise<any>>(8192)\n\ntype WithDedupeOptions = {\n  enabled?: boolean | undefined\n  id?: string | undefined\n}\n\n/** Deduplicates in-flight promises. */\nexport function withDedupe<data>(\n  fn: () => Promise<data>,\n  { enabled = true, id }: WithDedupeOptions,\n): Promise<data> {\n  if (!enabled || !id) return fn()\n  if (promiseCache.get(id)) return promiseCache.get(id)!\n  const promise = fn().finally(() => promiseCache.delete(id))\n  promiseCache.set(id, promise)\n  return promise\n}\n","import type { ErrorType } from '../../errors/utils.js'\nimport { wait } from '../wait.js'\n\nexport type WithRetryParameters = {\n  // The delay (in ms) between retries.\n  delay?:\n    | ((config: { count: number; error: Error }) => number)\n    | number\n    | undefined\n  // The max number of times to retry.\n  retryCount?: number | undefined\n  // Whether or not to retry when an error is thrown.\n  shouldRetry?:\n    | (({\n        count,\n        error,\n      }: {\n        count: number\n        error: Error\n      }) => Promise<boolean> | boolean)\n    | undefined\n}\n\nexport type WithRetryErrorType = ErrorType\n\nexport function withRetry<data>(\n  fn: () => Promise<data>,\n  {\n    delay: delay_ = 100,\n    retryCount = 2,\n    shouldRetry = () => true,\n  }: WithRetryParameters = {},\n) {\n  return new Promise<data>((resolve, reject) => {\n    const attemptRetry = async ({ count = 0 } = {}) => {\n      const retry = async ({ error }: { error: Error }) => {\n        const delay =\n          typeof delay_ === 'function' ? delay_({ count, error }) : delay_\n        if (delay) await wait(delay)\n        attemptRetry({ count: count + 1 })\n      }\n\n      try {\n        const data = await fn()\n        resolve(data)\n      } catch (err) {\n        if (\n          count < retryCount &&\n          (await shouldRetry({ count, error: err as Error }))\n        )\n          return retry({ error: err as Error })\n        reject(err)\n      }\n    }\n    attemptRetry()\n  })\n}\n","import { BaseError } from '../errors/base.js'\nimport {\n  HttpRequestError,\n  type HttpRequestErrorType,\n  type RpcRequestErrorType,\n  type TimeoutErrorType,\n  type WebSocketRequestErrorType,\n} from '../errors/request.js'\nimport {\n  AtomicityNotSupportedError,\n  type AtomicityNotSupportedErrorType,\n  AtomicReadyWalletRejectedUpgradeError,\n  type AtomicReadyWalletRejectedUpgradeErrorType,\n  BundleTooLargeError,\n  type BundleTooLargeErrorType,\n  ChainDisconnectedError,\n  type ChainDisconnectedErrorType,\n  DuplicateIdError,\n  type DuplicateIdErrorType,\n  InternalRpcError,\n  type InternalRpcErrorType,\n  InvalidInputRpcError,\n  type InvalidInputRpcErrorType,\n  InvalidParamsRpcError,\n  type InvalidParamsRpcErrorType,\n  InvalidRequestRpcError,\n  type InvalidRequestRpcErrorType,\n  JsonRpcVersionUnsupportedError,\n  type JsonRpcVersionUnsupportedErrorType,\n  LimitExceededRpcError,\n  type LimitExceededRpcErrorType,\n  MethodNotFoundRpcError,\n  type MethodNotFoundRpcErrorType,\n  MethodNotSupportedRpcError,\n  type MethodNotSupportedRpcErrorType,\n  ParseRpcError,\n  type ParseRpcErrorType,\n  ProviderDisconnectedError,\n  type ProviderDisconnectedErrorType,\n  type ProviderRpcErrorCode,\n  ResourceNotFoundRpcError,\n  type ResourceNotFoundRpcErrorType,\n  ResourceUnavailableRpcError,\n  type ResourceUnavailableRpcErrorType,\n  type RpcError,\n  type RpcErrorCode,\n  type RpcErrorType,\n  SwitchChainError,\n  type SwitchChainErrorType,\n  TransactionRejectedRpcError,\n  type TransactionRejectedRpcErrorType,\n  UnauthorizedProviderError,\n  type UnauthorizedProviderErrorType,\n  UnknownBundleIdError,\n  type UnknownBundleIdErrorType,\n  UnknownRpcError,\n  type UnknownRpcErrorType,\n  UnsupportedChainIdError,\n  type UnsupportedChainIdErrorType,\n  UnsupportedNonOptionalCapabilityError,\n  type UnsupportedNonOptionalCapabilityErrorType,\n  UnsupportedProviderMethodError,\n  type UnsupportedProviderMethodErrorType,\n  UserRejectedRequestError,\n  type UserRejectedRequestErrorType,\n} from '../errors/rpc.js'\nimport type { ErrorType } from '../errors/utils.js'\nimport type {\n  EIP1193RequestFn,\n  EIP1193RequestOptions,\n} from '../types/eip1193.js'\nimport { stringToHex } from './encoding/toHex.js'\nimport type { CreateBatchSchedulerErrorType } from './promise/createBatchScheduler.js'\nimport { withDedupe } from './promise/withDedupe.js'\nimport { type WithRetryErrorType, withRetry } from './promise/withRetry.js'\nimport type { GetSocketRpcClientErrorType } from './rpc/socket.js'\nimport { stringify } from './stringify.js'\n\nexport type RequestErrorType =\n  | AtomicityNotSupportedErrorType\n  | AtomicReadyWalletRejectedUpgradeErrorType\n  | BundleTooLargeErrorType\n  | ChainDisconnectedErrorType\n  | CreateBatchSchedulerErrorType\n  | DuplicateIdErrorType\n  | HttpRequestErrorType\n  | InternalRpcErrorType\n  | InvalidInputRpcErrorType\n  | InvalidParamsRpcErrorType\n  | InvalidRequestRpcErrorType\n  | GetSocketRpcClientErrorType\n  | JsonRpcVersionUnsupportedErrorType\n  | LimitExceededRpcErrorType\n  | MethodNotFoundRpcErrorType\n  | MethodNotSupportedRpcErrorType\n  | ParseRpcErrorType\n  | ProviderDisconnectedErrorType\n  | ResourceNotFoundRpcErrorType\n  | ResourceUnavailableRpcErrorType\n  | RpcErrorType\n  | RpcRequestErrorType\n  | SwitchChainErrorType\n  | TimeoutErrorType\n  | TransactionRejectedRpcErrorType\n  | UnauthorizedProviderErrorType\n  | UnknownBundleIdErrorType\n  | UnknownRpcErrorType\n  | UnsupportedChainIdErrorType\n  | UnsupportedNonOptionalCapabilityErrorType\n  | UnsupportedProviderMethodErrorType\n  | UserRejectedRequestErrorType\n  | WebSocketRequestErrorType\n  | WithRetryErrorType\n  | ErrorType\n\nexport function buildRequest<request extends (args: any) => Promise<any>>(\n  request: request,\n  options: EIP1193RequestOptions = {},\n): EIP1193RequestFn {\n  return async (args, overrideOptions = {}) => {\n    const {\n      dedupe = false,\n      methods,\n      retryDelay = 150,\n      retryCount = 3,\n      uid,\n    } = {\n      ...options,\n      ...overrideOptions,\n    }\n\n    const { method } = args\n    if (methods?.exclude?.includes(method))\n      throw new MethodNotSupportedRpcError(new Error('method not supported'), {\n        method,\n      })\n    if (methods?.include && !methods.include.includes(method))\n      throw new MethodNotSupportedRpcError(new Error('method not supported'), {\n        method,\n      })\n\n    const requestId = dedupe\n      ? stringToHex(`${uid}.${stringify(args)}`)\n      : undefined\n    return withDedupe(\n      () =>\n        withRetry(\n          async () => {\n            try {\n              return await request(args)\n            } catch (err_) {\n              const err = err_ as unknown as RpcError<\n                RpcErrorCode | ProviderRpcErrorCode\n              >\n              switch (err.code) {\n                // -32700\n                case ParseRpcError.code:\n                  throw new ParseRpcError(err)\n                // -32600\n                case InvalidRequestRpcError.code:\n                  throw new InvalidRequestRpcError(err)\n                // -32601\n                case MethodNotFoundRpcError.code:\n                  throw new MethodNotFoundRpcError(err, { method: args.method })\n                // -32602\n                case InvalidParamsRpcError.code:\n                  throw new InvalidParamsRpcError(err)\n                // -32603\n                case InternalRpcError.code:\n                  throw new InternalRpcError(err)\n                // -32000\n                case InvalidInputRpcError.code:\n                  throw new InvalidInputRpcError(err)\n                // -32001\n                case ResourceNotFoundRpcError.code:\n                  throw new ResourceNotFoundRpcError(err)\n                // -32002\n                case ResourceUnavailableRpcError.code:\n                  throw new ResourceUnavailableRpcError(err)\n                // -32003\n                case TransactionRejectedRpcError.code:\n                  throw new TransactionRejectedRpcError(err)\n                // -32004\n                case MethodNotSupportedRpcError.code:\n                  throw new MethodNotSupportedRpcError(err, {\n                    method: args.method,\n                  })\n                // -32005\n                case LimitExceededRpcError.code:\n                  throw new LimitExceededRpcError(err)\n                // -32006\n                case JsonRpcVersionUnsupportedError.code:\n                  throw new JsonRpcVersionUnsupportedError(err)\n\n                // 4001\n                case UserRejectedRequestError.code:\n                  throw new UserRejectedRequestError(err)\n                // 4100\n                case UnauthorizedProviderError.code:\n                  throw new UnauthorizedProviderError(err)\n                // 4200\n                case UnsupportedProviderMethodError.code:\n                  throw new UnsupportedProviderMethodError(err)\n                // 4900\n                case ProviderDisconnectedError.code:\n                  throw new ProviderDisconnectedError(err)\n                // 4901\n                case ChainDisconnectedError.code:\n                  throw new ChainDisconnectedError(err)\n                // 4902\n                case SwitchChainError.code:\n                  throw new SwitchChainError(err)\n\n                // 5700\n                case UnsupportedNonOptionalCapabilityError.code:\n                  throw new UnsupportedNonOptionalCapabilityError(err)\n                // 5710\n                case UnsupportedChainIdError.code:\n                  throw new UnsupportedChainIdError(err)\n                // 5720\n                case DuplicateIdError.code:\n                  throw new DuplicateIdError(err)\n                // 5730\n                case UnknownBundleIdError.code:\n                  throw new UnknownBundleIdError(err)\n                // 5740\n                case BundleTooLargeError.code:\n                  throw new BundleTooLargeError(err)\n                // 5750\n                case AtomicReadyWalletRejectedUpgradeError.code:\n                  throw new AtomicReadyWalletRejectedUpgradeError(err)\n                // 5760\n                case AtomicityNotSupportedError.code:\n                  throw new AtomicityNotSupportedError(err)\n\n                // CAIP-25: User Rejected Error\n                // https://docs.walletconnect.com/2.0/specs/clients/sign/error-codes#rejected-caip-25\n                case 5000:\n                  throw new UserRejectedRequestError(err)\n\n                default:\n                  if (err_ instanceof BaseError) throw err_\n                  throw new UnknownRpcError(err as Error)\n              }\n            }\n          },\n          {\n            delay: ({ count, error }) => {\n              // If we find a Retry-After header, let's retry after the given time.\n              if (error && error instanceof HttpRequestError) {\n                const retryAfter = error?.headers?.get('Retry-After')\n                if (retryAfter?.match(/\\d/))\n                  return Number.parseInt(retryAfter, 10) * 1000\n              }\n\n              // Otherwise, let's retry with an exponential backoff.\n              return ~~(1 << count) * retryDelay\n            },\n            retryCount,\n            shouldRetry: ({ error }) => shouldRetry(error),\n          },\n        ),\n      { enabled: dedupe, id: requestId },\n    )\n  }\n}\n\n/** @internal */\nexport function shouldRetry(error: Error) {\n  if ('code' in error && typeof error.code === 'number') {\n    if (error.code === -1) return true // Unknown error\n    if (error.code === LimitExceededRpcError.code) return true\n    if (error.code === InternalRpcError.code) return true\n    return false\n  }\n  if (error instanceof HttpRequestError && error.status) {\n    // Forbidden\n    if (error.status === 403) return true\n    // Request Timeout\n    if (error.status === 408) return true\n    // Request Entity Too Large\n    if (error.status === 413) return true\n    // Too Many Requests\n    if (error.status === 429) return true\n    // Internal Server Error\n    if (error.status === 500) return true\n    // Bad Gateway\n    if (error.status === 502) return true\n    // Service Unavailable\n    if (error.status === 503) return true\n    // Gateway Timeout\n    if (error.status === 504) return true\n    return false\n  }\n  return true\n}\n","const size = 256\nlet index = size\nlet buffer: string\n\nexport function uid(length = 11) {\n  if (!buffer || index + length > size * 2) {\n    buffer = ''\n    index = 0\n    for (let i = 0; i < size; i++) {\n      buffer += ((256 + Math.random() * 256) | 0).toString(16).substring(1)\n    }\n  }\n  return buffer.substring(index, index++ + length)\n}\n","import type { ErrorType } from '../../errors/utils.js'\n\nexport type WithTimeoutErrorType = ErrorType\n\nexport function withTimeout<data>(\n  fn: ({\n    signal,\n  }: {\n    signal: AbortController['signal'] | null\n  }) => Promise<data>,\n  {\n    errorInstance = new Error('timed out'),\n    timeout,\n    signal,\n  }: {\n    // The error instance to throw when the timeout is reached.\n    errorInstance?: Error | undefined\n    // The timeout (in ms).\n    timeout: number\n    // Whether or not the timeout should use an abort signal.\n    signal?: boolean | undefined\n  },\n): Promise<data> {\n  return new Promise((resolve, reject) => {\n    ;(async () => {\n      let timeoutId!: NodeJS.Timeout\n      try {\n        const controller = new AbortController()\n        if (timeout > 0) {\n          timeoutId = setTimeout(() => {\n            if (signal) {\n              controller.abort()\n            } else {\n              reject(errorInstance)\n            }\n          }, timeout) as NodeJS.Timeout // need to cast because bun globals.d.ts overrides @types/node\n        }\n        resolve(await fn({ signal: controller?.signal || null }))\n      } catch (err) {\n        if ((err as Error)?.name === 'AbortError') reject(errorInstance)\n        reject(err)\n      } finally {\n        clearTimeout(timeoutId)\n      }\n    })()\n  })\n}\n","import { BaseError } from './base.js'\n\nexport type UrlRequiredErrorType = UrlRequiredError & {\n  name: 'UrlRequiredError'\n}\nexport class UrlRequiredError extends BaseError {\n  constructor() {\n    super(\n      'No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.',\n      {\n        docsPath: '/docs/clients/intro',\n        name: 'UrlRequiredError',\n      },\n    )\n  }\n}\n","import type { ErrorType } from '../../errors/utils.js'\nimport type { Account } from '../../types/account.js'\nimport type { Chain } from '../../types/chain.js'\nimport type { EIP1193RequestFn } from '../../types/eip1193.js'\nimport type { OneOf } from '../../types/utils.js'\nimport { buildRequest } from '../../utils/buildRequest.js'\nimport { uid as uid_ } from '../../utils/uid.js'\nimport type { ClientConfig } from '../createClient.js'\n\nexport type TransportConfig<\n  type extends string = string,\n  eip1193RequestFn extends EIP1193RequestFn = EIP1193RequestFn,\n> = {\n  /** The name of the transport. */\n  name: string\n  /** The key of the transport. */\n  key: string\n  /** Methods to include or exclude from executing RPC requests. */\n  methods?:\n    | OneOf<\n        | {\n            include?: string[] | undefined\n          }\n        | {\n            exclude?: string[] | undefined\n          }\n      >\n    | undefined\n  /** The JSON-RPC request function that matches the EIP-1193 request spec. */\n  request: eip1193RequestFn\n  /** The base delay (in ms) between retries. */\n  retryDelay?: number | undefined\n  /** The max number of times to retry. */\n  retryCount?: number | undefined\n  /** The timeout (in ms) for requests. */\n  timeout?: number | undefined\n  /** The type of the transport. */\n  type: type\n}\n\nexport type Transport<\n  type extends string = string,\n  rpcAttributes = Record<string, any>,\n  eip1193RequestFn extends EIP1193RequestFn = EIP1193RequestFn,\n> = <chain extends Chain | undefined = Chain>({\n  chain,\n}: {\n  account?: Account | undefined\n  chain?: chain | undefined\n  pollingInterval?: ClientConfig['pollingInterval'] | undefined\n  retryCount?: TransportConfig['retryCount'] | undefined\n  timeout?: TransportConfig['timeout'] | undefined\n}) => {\n  config: TransportConfig<type>\n  request: eip1193RequestFn\n  value?: rpcAttributes | undefined\n}\n\nexport type CreateTransportErrorType = ErrorType\n\n/**\n * @description Creates an transport intended to be used with a client.\n */\nexport function createTransport<\n  type extends string,\n  rpcAttributes extends Record<string, any>,\n>(\n  {\n    key,\n    methods,\n    name,\n    request,\n    retryCount = 3,\n    retryDelay = 150,\n    timeout,\n    type,\n  }: TransportConfig<type>,\n  value?: rpcAttributes | undefined,\n): ReturnType<Transport<type, rpcAttributes>> {\n  const uid = uid_()\n  return {\n    config: {\n      key,\n      methods,\n      name,\n      request,\n      retryCount,\n      retryDelay,\n      timeout,\n      type,\n    },\n    request: buildRequest(request, { methods, retryCount, retryDelay, uid }),\n    value,\n  }\n}\n","function createIdStore() {\n  return {\n    current: 0,\n    take() {\n      return this.current++\n    },\n    reset() {\n      this.current = 0\n    },\n  }\n}\n\nexport const idCache = /*#__PURE__*/ createIdStore()\n","import { RpcRequestError } from '../../errors/request.js'\nimport {\n  UrlRequiredError,\n  type UrlRequiredErrorType,\n} from '../../errors/transport.js'\nimport type { ErrorType } from '../../errors/utils.js'\nimport type { EIP1193RequestFn, RpcSchema } from '../../types/eip1193.js'\nimport type { RpcRequest } from '../../types/rpc.js'\nimport { createBatchScheduler } from '../../utils/promise/createBatchScheduler.js'\nimport {\n  getHttpRpcClient,\n  type HttpRpcClientOptions,\n} from '../../utils/rpc/http.js'\n\nimport {\n  type CreateTransportErrorType,\n  createTransport,\n  type Transport,\n  type TransportConfig,\n} from './createTransport.js'\n\nexport type HttpTransportConfig<\n  rpcSchema extends RpcSchema | undefined = undefined,\n  raw extends boolean = false,\n> = {\n  /**\n   * Whether to enable Batch JSON-RPC.\n   * @link https://www.jsonrpc.org/specification#batch\n   */\n  batch?:\n    | boolean\n    | {\n        /** The maximum number of JSON-RPC requests to send in a batch. @default 1_000 */\n        batchSize?: number | undefined\n        /** The maximum number of milliseconds to wait before sending a batch. @default 0 */\n        wait?: number | undefined\n      }\n    | undefined\n  fetchFn?: HttpRpcClientOptions['fetchFn'] | undefined\n  /**\n   * Request configuration to pass to `fetch`.\n   * @link https://developer.mozilla.org/en-US/docs/Web/API/fetch\n   */\n  fetchOptions?: HttpRpcClientOptions['fetchOptions'] | undefined\n  /** A callback to handle the response from `fetch`. */\n  onFetchRequest?: HttpRpcClientOptions['onRequest'] | undefined\n  /** A callback to handle the response from `fetch`. */\n  onFetchResponse?: HttpRpcClientOptions['onResponse'] | undefined\n  /** The key of the HTTP transport. */\n  key?: TransportConfig['key'] | undefined\n  /** Methods to include or exclude from executing RPC requests. */\n  methods?: TransportConfig['methods'] | undefined\n  /** The name of the HTTP transport. */\n  name?: TransportConfig['name'] | undefined\n  /** Whether to return JSON RPC errors as responses instead of throwing. */\n  raw?: raw | boolean | undefined\n  /** The max number of times to retry. */\n  retryCount?: TransportConfig['retryCount'] | undefined\n  /** The base delay (in ms) between retries. */\n  retryDelay?: TransportConfig['retryDelay'] | undefined\n  /** Typed JSON-RPC schema for the transport. */\n  rpcSchema?: rpcSchema | RpcSchema | undefined\n  /** The timeout (in ms) for the HTTP request. Default: 10_000 */\n  timeout?: TransportConfig['timeout'] | undefined\n}\n\nexport type HttpTransport<\n  rpcSchema extends RpcSchema | undefined = undefined,\n  raw extends boolean = false,\n> = Transport<\n  'http',\n  {\n    fetchOptions?: HttpTransportConfig['fetchOptions'] | undefined\n    url?: string | undefined\n  },\n  EIP1193RequestFn<rpcSchema, raw>\n>\n\nexport type HttpTransportErrorType =\n  | CreateTransportErrorType\n  | UrlRequiredErrorType\n  | ErrorType\n\n/**\n * @description Creates a HTTP transport that connects to a JSON-RPC API.\n */\nexport function http<\n  rpcSchema extends RpcSchema | undefined = undefined,\n  raw extends boolean = false,\n>(\n  /** URL of the JSON-RPC API. Defaults to the chain's public RPC URL. */\n  url?: string | undefined,\n  config: HttpTransportConfig<rpcSchema, raw> = {},\n): HttpTransport<rpcSchema, raw> {\n  const {\n    batch,\n    fetchFn,\n    fetchOptions,\n    key = 'http',\n    methods,\n    name = 'HTTP JSON-RPC',\n    onFetchRequest,\n    onFetchResponse,\n    retryDelay,\n    raw,\n  } = config\n  return ({ chain, retryCount: retryCount_, timeout: timeout_ }) => {\n    const { batchSize = 1000, wait = 0 } =\n      typeof batch === 'object' ? batch : {}\n    const retryCount = config.retryCount ?? retryCount_\n    const timeout = timeout_ ?? config.timeout ?? 10_000\n    const url_ = url || chain?.rpcUrls.default.http[0]\n    if (!url_) throw new UrlRequiredError()\n\n    const rpcClient = getHttpRpcClient(url_, {\n      fetchFn,\n      fetchOptions,\n      onRequest: onFetchRequest,\n      onResponse: onFetchResponse,\n      timeout,\n    })\n\n    return createTransport(\n      {\n        key,\n        methods,\n        name,\n        async request({ method, params }) {\n          const body = { method, params }\n\n          const { schedule } = createBatchScheduler({\n            id: url_,\n            wait,\n            shouldSplitBatch(requests) {\n              return requests.length > batchSize\n            },\n            fn: (body: RpcRequest[]) =>\n              rpcClient.request({\n                body,\n              }),\n            sort: (a, b) => a.id - b.id,\n          })\n\n          const fn = async (body: RpcRequest) =>\n            batch\n              ? schedule(body)\n              : [\n                  await rpcClient.request({\n                    body,\n                  }),\n                ]\n\n          const [{ error, result }] = await fn(body)\n\n          if (raw) return { error, result }\n          if (error)\n            throw new RpcRequestError({\n              body,\n              error,\n              url: url_,\n            })\n          return result\n        },\n        retryCount,\n        retryDelay,\n        timeout,\n        type: 'http',\n      },\n      {\n        fetchOptions,\n        url: url_,\n      },\n    )\n  }\n}\n","import {\n  HttpRequestError,\n  type HttpRequestErrorType as HttpRequestErrorType_,\n  TimeoutError,\n  type TimeoutErrorType,\n} from '../../errors/request.js'\nimport type { ErrorType } from '../../errors/utils.js'\nimport type { RpcRequest, RpcResponse } from '../../types/rpc.js'\nimport type { MaybePromise } from '../../types/utils.js'\nimport {\n  type WithTimeoutErrorType,\n  withTimeout,\n} from '../promise/withTimeout.js'\nimport { stringify } from '../stringify.js'\nimport { idCache } from './id.js'\n\nexport type HttpRpcClientOptions = {\n  /** Override for the fetch function used to make requests. */\n  fetchFn?:\n    | ((input: string | URL | Request, init?: RequestInit) => Promise<Response>)\n    | undefined\n  /** Request configuration to pass to `fetch`. */\n  fetchOptions?: Omit<RequestInit, 'body'> | undefined\n  /** A callback to handle the request. */\n  onRequest?:\n    | ((\n        request: Request,\n        init: RequestInit,\n      ) => MaybePromise<\n        void | undefined | (RequestInit & { url?: string | undefined })\n      >)\n    | undefined\n  /** A callback to handle the response. */\n  onResponse?: ((response: Response) => Promise<void> | void) | undefined\n  /** The timeout (in ms) for the request. */\n  timeout?: number | undefined\n}\n\nexport type HttpRequestParameters<\n  body extends RpcRequest | RpcRequest[] = RpcRequest,\n> = {\n  /** The RPC request body. */\n  body: body\n  /** Override for the fetch function used to make requests. */\n  fetchFn?: HttpRpcClientOptions['fetchFn'] | undefined\n  /** Request configuration to pass to `fetch`. */\n  fetchOptions?: HttpRpcClientOptions['fetchOptions'] | undefined\n  /** A callback to handle the response. */\n  onRequest?:\n    | ((\n        request: Request,\n        init: RequestInit,\n      ) => MaybePromise<\n        void | undefined | (RequestInit & { url?: string | undefined })\n      >)\n    | undefined\n  /** A callback to handle the response. */\n  onResponse?: ((response: Response) => Promise<void> | void) | undefined\n  /** The timeout (in ms) for the request. */\n  timeout?: HttpRpcClientOptions['timeout'] | undefined\n}\n\nexport type HttpRequestReturnType<\n  body extends RpcRequest | RpcRequest[] = RpcRequest,\n> = body extends RpcRequest[] ? RpcResponse[] : RpcResponse\n\nexport type HttpRequestErrorType =\n  | HttpRequestErrorType_\n  | TimeoutErrorType\n  | WithTimeoutErrorType\n  | ErrorType\n\nexport type HttpRpcClient = {\n  request<body extends RpcRequest | RpcRequest[]>(\n    params: HttpRequestParameters<body>,\n  ): Promise<HttpRequestReturnType<body>>\n}\n\nexport function getHttpRpcClient(\n  url_: string,\n  options: HttpRpcClientOptions = {},\n): HttpRpcClient {\n  const { url, headers: headers_url } = parseUrl(url_)\n\n  return {\n    async request(params) {\n      const {\n        body,\n        fetchFn = options.fetchFn ?? fetch,\n        onRequest = options.onRequest,\n        onResponse = options.onResponse,\n        timeout = options.timeout ?? 10_000,\n      } = params\n\n      const fetchOptions = {\n        ...(options.fetchOptions ?? {}),\n        ...(params.fetchOptions ?? {}),\n      }\n\n      const { headers, method, signal: signal_ } = fetchOptions\n\n      try {\n        const response = await withTimeout(\n          async ({ signal }) => {\n            const init: RequestInit = {\n              ...fetchOptions,\n              body: Array.isArray(body)\n                ? stringify(\n                    body.map((body) => ({\n                      jsonrpc: '2.0',\n                      id: body.id ?? idCache.take(),\n                      ...body,\n                    })),\n                  )\n                : stringify({\n                    jsonrpc: '2.0',\n                    id: body.id ?? idCache.take(),\n                    ...body,\n                  }),\n              headers: {\n                ...headers_url,\n                'Content-Type': 'application/json',\n                ...headers,\n              },\n              method: method || 'POST',\n              signal: signal_ || (timeout > 0 ? signal : null),\n            }\n            const request = new Request(url, init)\n            const args = (await onRequest?.(request, init)) ?? { ...init, url }\n            const response = await fetchFn(args.url ?? url, args)\n            return response\n          },\n          {\n            errorInstance: new TimeoutError({ body, url }),\n            timeout,\n            signal: true,\n          },\n        )\n\n        if (onResponse) await onResponse(response)\n\n        let data: any\n        if (\n          response.headers.get('Content-Type')?.startsWith('application/json')\n        )\n          data = await response.json()\n        else {\n          data = await response.text()\n          try {\n            data = JSON.parse(data || '{}')\n          } catch (err) {\n            if (response.ok) throw err\n            data = { error: data }\n          }\n        }\n\n        if (!response.ok) {\n          throw new HttpRequestError({\n            body,\n            details: stringify(data.error) || response.statusText,\n            headers: response.headers,\n            status: response.status,\n            url,\n          })\n        }\n\n        return data\n      } catch (err) {\n        if (err instanceof HttpRequestError) throw err\n        if (err instanceof TimeoutError) throw err\n        throw new HttpRequestError({\n          body,\n          cause: err as Error,\n          url,\n        })\n      }\n    },\n  }\n}\n\n/** @internal */\nexport function parseUrl(url_: string) {\n  try {\n    const url = new URL(url_)\n\n    const result = (() => {\n      // Handle Basic authentication credentials\n      if (url.username) {\n        const credentials = `${decodeURIComponent(url.username)}:${decodeURIComponent(url.password)}`\n        url.username = ''\n        url.password = ''\n\n        return {\n          url: url.toString(),\n          headers: { Authorization: `Basic ${btoa(credentials)}` },\n        }\n      }\n\n      return\n    })()\n\n    return { url: url.toString(), ...result }\n  } catch {\n    return { url: url_ }\n  }\n}\n","import { ExecutionRevertedError } from '../../errors/node.js'\nimport {\n  TransactionRejectedRpcError,\n  UserRejectedRequestError,\n} from '../../errors/rpc.js'\nimport type { ErrorType } from '../../errors/utils.js'\nimport type { Chain } from '../../types/chain.js'\nimport { wait } from '../../utils/wait.js'\n\nimport {\n  type CreateTransportErrorType,\n  createTransport,\n  type Transport,\n  type TransportConfig,\n} from './createTransport.js'\n// TODO: Narrow `method` & `params` types.\nexport type OnResponseFn = (\n  args: {\n    method: string\n    params: unknown[]\n    transport: ReturnType<Transport>\n  } & (\n    | {\n        error?: undefined\n        response: unknown\n        status: 'success'\n      }\n    | {\n        error: Error\n        response?: undefined\n        status: 'error'\n      }\n  ),\n) => void\n\ntype RankOptions = {\n  /**\n   * The polling interval (in ms) at which the ranker should ping the RPC URL.\n   * @default client.pollingInterval\n   */\n  interval?: number | undefined\n  /**\n   * Ping method to determine latency.\n   */\n  ping?: (parameters: {\n    transport: ReturnType<Transport>\n  }) => Promise<unknown> | undefined\n  /**\n   * The number of previous samples to perform ranking on.\n   * @default 10\n   */\n  sampleCount?: number | undefined\n  /**\n   * Timeout when sampling transports.\n   * @default 1_000\n   */\n  timeout?: number | undefined\n  /**\n   * Weights to apply to the scores. Weight values are proportional.\n   */\n  weights?:\n    | {\n        /**\n         * The weight to apply to the latency score.\n         * @default 0.3\n         */\n        latency?: number | undefined\n        /**\n         * The weight to apply to the stability score.\n         * @default 0.7\n         */\n        stability?: number | undefined\n      }\n    | undefined\n}\n\nexport type FallbackTransportConfig = {\n  /** The key of the Fallback transport. */\n  key?: TransportConfig['key'] | undefined\n  /** The name of the Fallback transport. */\n  name?: TransportConfig['name'] | undefined\n  /** Toggle to enable ranking, or rank options. */\n  rank?: boolean | RankOptions | undefined\n  /** The max number of times to retry. */\n  retryCount?: TransportConfig['retryCount'] | undefined\n  /** The base delay (in ms) between retries. */\n  retryDelay?: TransportConfig['retryDelay'] | undefined\n  /** Callback on whether an error should throw or try the next transport in the fallback. */\n  shouldThrow?: (error: Error) => boolean | undefined\n}\n\nexport type FallbackTransport<\n  transports extends readonly Transport[] = readonly Transport[],\n> = Transport<\n  'fallback',\n  {\n    onResponse: (fn: OnResponseFn) => void\n    transports: {\n      [key in keyof transports]: ReturnType<transports[key]>\n    }\n  }\n>\n\nexport type FallbackTransportErrorType = CreateTransportErrorType | ErrorType\n\nexport function fallback<const transports extends readonly Transport[]>(\n  transports_: transports,\n  config: FallbackTransportConfig = {},\n): FallbackTransport<transports> {\n  const {\n    key = 'fallback',\n    name = 'Fallback',\n    rank = false,\n    shouldThrow: shouldThrow_ = shouldThrow,\n    retryCount,\n    retryDelay,\n  } = config\n  return (({ chain, pollingInterval = 4_000, timeout, ...rest }) => {\n    let transports = transports_\n\n    let onResponse: OnResponseFn = () => {}\n\n    const transport = createTransport(\n      {\n        key,\n        name,\n        async request({ method, params }) {\n          let includes: boolean | undefined\n\n          const fetch = async (i = 0): Promise<any> => {\n            const transport = transports[i]({\n              ...rest,\n              chain,\n              retryCount: 0,\n              timeout,\n            })\n            try {\n              const response = await transport.request({\n                method,\n                params,\n              } as any)\n\n              onResponse({\n                method,\n                params: params as unknown[],\n                response,\n                transport,\n                status: 'success',\n              })\n\n              return response\n            } catch (err) {\n              onResponse({\n                error: err as Error,\n                method,\n                params: params as unknown[],\n                transport,\n                status: 'error',\n              })\n\n              if (shouldThrow_(err as Error)) throw err\n\n              // If we've reached the end of the fallbacks, throw the error.\n              if (i === transports.length - 1) throw err\n\n              // Check if at least one other transport includes the method\n              includes ??= transports.slice(i + 1).some((transport) => {\n                const { include, exclude } =\n                  transport({ chain }).config.methods || {}\n                if (include) return include.includes(method)\n                if (exclude) return !exclude.includes(method)\n                return true\n              })\n              if (!includes) throw err\n\n              // Otherwise, try the next fallback.\n              return fetch(i + 1)\n            }\n          }\n          return fetch()\n        },\n        retryCount,\n        retryDelay,\n        type: 'fallback',\n      },\n      {\n        onResponse: (fn: OnResponseFn) => (onResponse = fn),\n        transports: transports.map((fn) => fn({ chain, retryCount: 0 })),\n      },\n    )\n\n    if (rank) {\n      const rankOptions = (typeof rank === 'object' ? rank : {}) as RankOptions\n      rankTransports({\n        chain,\n        interval: rankOptions.interval ?? pollingInterval,\n        onTransports: (transports_) => (transports = transports_ as transports),\n        ping: rankOptions.ping,\n        sampleCount: rankOptions.sampleCount,\n        timeout: rankOptions.timeout,\n        transports,\n        weights: rankOptions.weights,\n      })\n    }\n    return transport\n  }) as FallbackTransport<transports>\n}\n\nexport function shouldThrow(error: Error) {\n  if ('code' in error && typeof error.code === 'number') {\n    if (\n      error.code === TransactionRejectedRpcError.code ||\n      error.code === UserRejectedRequestError.code ||\n      ExecutionRevertedError.nodeMessage.test(error.message) ||\n      error.code === 5000 // CAIP UserRejectedRequestError\n    )\n      return true\n  }\n  return false\n}\n\n/** @internal */\nexport function rankTransports({\n  chain,\n  interval = 4_000,\n  onTransports,\n  ping,\n  sampleCount = 10,\n  timeout = 1_000,\n  transports,\n  weights = {},\n}: {\n  chain?: Chain | undefined\n  interval: RankOptions['interval']\n  onTransports: (transports: readonly Transport[]) => void\n  ping?: RankOptions['ping'] | undefined\n  sampleCount?: RankOptions['sampleCount'] | undefined\n  timeout?: RankOptions['timeout'] | undefined\n  transports: readonly Transport[]\n  weights?: RankOptions['weights'] | undefined\n}) {\n  const { stability: stabilityWeight = 0.7, latency: latencyWeight = 0.3 } =\n    weights\n\n  type SampleData = { latency: number; success: number }\n  type Sample = SampleData[]\n  const samples: Sample[] = []\n\n  const rankTransports_ = async () => {\n    // 1. Take a sample from each Transport.\n    const sample: Sample = await Promise.all(\n      transports.map(async (transport) => {\n        const transport_ = transport({ chain, retryCount: 0, timeout })\n\n        const start = Date.now()\n        let end: number\n        let success: number\n        try {\n          await (ping\n            ? ping({ transport: transport_ })\n            : transport_.request({ method: 'net_listening' }))\n          success = 1\n        } catch {\n          success = 0\n        } finally {\n          end = Date.now()\n        }\n        const latency = end - start\n        return { latency, success }\n      }),\n    )\n\n    // 2. Store the sample. If we have more than `sampleCount` samples, remove\n    // the oldest sample.\n    samples.push(sample)\n    if (samples.length > sampleCount) samples.shift()\n\n    // 3. Calculate the max latency from samples.\n    const maxLatency = Math.max(\n      ...samples.map((sample) =>\n        Math.max(...sample.map(({ latency }) => latency)),\n      ),\n    )\n\n    // 4. Calculate the score for each Transport.\n    const scores = transports\n      .map((_, i) => {\n        const latencies = samples.map((sample) => sample[i].latency)\n        const meanLatency =\n          latencies.reduce((acc, latency) => acc + latency, 0) /\n          latencies.length\n        const latencyScore = 1 - meanLatency / maxLatency\n\n        const successes = samples.map((sample) => sample[i].success)\n        const stabilityScore =\n          successes.reduce((acc, success) => acc + success, 0) /\n          successes.length\n\n        if (stabilityScore === 0) return [0, i]\n        return [\n          latencyWeight * latencyScore + stabilityWeight * stabilityScore,\n          i,\n        ]\n      })\n      .sort((a, b) => b[0] - a[0])\n\n    // 5. Sort the Transports by score.\n    onTransports(scores.map(([, i]) => transports[i]))\n\n    // 6. Wait, and then rank again.\n    await wait(interval)\n    rankTransports_()\n  }\n  rankTransports_()\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,6,7,8,9,10,11,12]}