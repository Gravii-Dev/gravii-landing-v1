module.exports=[883148,a=>{"use strict";let b={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",BASE_ACCOUNT:"baseAccount",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122",TON:"ton"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks",ton:"TON"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",TON:"ton"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},NATIVE_IMAGE_IDS_BY_NAMESPACE:{eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"3e8119e5-2a6f-4818-c50c-1937011d5900",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},TOKEN_SYMBOLS_BY_ADDRESS:{"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48":"USDC","0x833589fcd6edb6e08f4c7c32d4f71b54bda02913":"USDC","0x0b2c639c533813f4aa9d7837caf62653d097ff85":"USDC","0xaf88d065e77c8cc2239327c5edb3a432268e5831":"USDC","0x3c499c542cef5e3811e1192ce70d8cc03d5c3359":"USDC","0x2791bca1f2de4661ed88a30c99a7a9449aa84174":"USDC",EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:"USDC","0xdac17f958d2ee523a2206206994597c13d831ec7":"USDT","0x94b008aa00579c1307b0ef2c499ad98a8ce58e58":"USDT","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9":"USDT","0xc2132d05d31c914a87c6611c10748aeb04b58e8f":"USDT",Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:"USDT"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:("u">typeof process&&void 0!==process.env?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}},HEADLESS_NOT_ENABLED:{DEFAULT:{displayMessage:"",debugMessage:"Headless support is not enabled. Please enable it with the features.headless option in the AppKit configuration and make sure your current plan supports it."}}},IS_DEVELOPMENT:"u">typeof process&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"],METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH"};a.s(["ConstantsUtil",0,b])},436868,a=>{"use strict";function b(a,b){let c=a?.["--apkt-accent"]??a?.["--w3m-accent"];return"light"===b?{"--w3m-accent":c||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":c||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}a.s(["getW3mThemeVariables",()=>b])},252271,629198,a=>{"use strict";let b=Symbol(),c=Symbol(),d=Object.getPrototypeOf,e=new WeakMap,f=a=>a&&(e.has(a)?e.get(a):d(a)===Object.prototype||d(a)===Array.prototype),g=a=>"object"==typeof a&&null!==a,h=a=>a[c]||a,i=(a,e,g,j)=>{if(!f(a))return a;let k=j&&j.get(a);if(!k){let b=h(a);k=Object.values(Object.getOwnPropertyDescriptors(b)).some(a=>!a.configurable&&!a.writable)?[b,(a=>{if(Array.isArray(a))return Array.from(a);let b=Object.getOwnPropertyDescriptors(a);return Object.values(b).forEach(a=>{a.configurable=!0}),Object.create(d(a),b)})(b)]:[b],null==j||j.set(a,k)}let[l,m]=k,n=g&&g.get(l);if(!n||!!m!==n[1].f){var o;let a,d,e,f;a={f:o=!!m},d=!1,e=(b,c)=>{if(!d){let d=a.a.get(l);if(d||(d={},a.a.set(l,d)),"w"===b)d.w=!0;else{let a=d[b];a||(a=new Set,d[b]=a),a.add(c)}}},f={get:(b,d)=>d===c?l:(e("k",d),i(Reflect.get(b,d),a.a,a.c,a.t)),has:(c,f)=>f===b?(d=!0,a.a.delete(l),!0):(e("h",f),Reflect.has(c,f)),getOwnPropertyDescriptor:(a,b)=>(e("o",b),Reflect.getOwnPropertyDescriptor(a,b)),ownKeys:a=>(e("w"),Reflect.ownKeys(a))},o&&(f.set=f.deleteProperty=()=>!1),(n=[f,a])[1].p=new Proxy(m||l,n[0]),g&&g.set(l,n)}return n[1].a=e,n[1].c=g,n[1].t=j,n[1].p},j=(a,b,c,d,e=Object.is)=>{if(e(a,b))return!1;if(!g(a)||!g(b))return!0;let f=c.get(h(a));if(!f)return!0;if(d){if(d.get(a)===b)return!1;d.set(a,b)}let i=null;for(let c of f.h||[])if(i=Reflect.has(a,c)!==Reflect.has(b,c))return i;if(!0===f.w){let c,d;if(c=Reflect.ownKeys(a),d=Reflect.ownKeys(b),i=c.length!==d.length||c.some((a,b)=>a!==d[b]))return i}else for(let c of f.o||[]){let d=!!Reflect.getOwnPropertyDescriptor(a,c);if(i=!!Reflect.getOwnPropertyDescriptor(b,c)!==d)return i}for(let g of f.k||[])if(i=j(a[g],b[g],c,d,e))return i;if(null===i)throw Error("invalid used");return i},k=a=>f(a)&&a[c]||null,l=(a,b=!0)=>{e.set(a,b)};a.s(["affectedToPathList",0,(a,b,c)=>{let d=[],e=new WeakSet,f=(a,i)=>{var j,k,l;if(e.has(a))return;g(a)&&e.add(a);let m=g(a)&&b.get(h(a));if(m){if(null==(j=m.h)||j.forEach(a=>{let b=`:has(${String(a)})`;d.push(i?[...i,b]:[b])}),!0===m.w){let a=":ownKeys";d.push(i?[...i,a]:[a])}else null==(k=m.o)||k.forEach(a=>{let b=`:hasOwn(${String(a)})`;d.push(i?[...i,b]:[b])});null==(l=m.k)||l.forEach(b=>{(!c||"value"in(Object.getOwnPropertyDescriptor(a,b)||{}))&&f(a[b],i?[...i,b]:[b])})}else i&&d.push(i)};return f(a),d},"createProxy",0,i,"getUntracked",0,k,"isChanged",0,j,"markToTrack",0,l],629198);let m={get url(){return`file://${a.P("node_modules/valtio/esm/vanilla.mjs")}`}},n=a=>"object"==typeof a&&null!==a,o=(a,b)=>{let c=r.get(a);if((null==c?void 0:c[0])===b)return c[1];let d=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));return l(d,!0),r.set(a,[b,d]),Reflect.ownKeys(a).forEach(b=>{if(Object.getOwnPropertyDescriptor(d,b))return;let c=Reflect.get(a,b),{enumerable:e}=Reflect.getOwnPropertyDescriptor(a,b),f={value:c,enumerable:e,configurable:!0};if(q.has(c))l(c,!1);else if(p.has(c)){let[a,b]=p.get(c);f.value=o(a,b())}Object.defineProperty(d,b,f)}),Object.preventExtensions(d)},p=new WeakMap,q=new WeakSet,r=new WeakMap,s=[1],t=new WeakMap,u=Object.is;function v(a,b,c){let d,e=p.get(a);(m.env?m.env.MODE:void 0)==="production"||e||console.warn("Please use proxy object");let f=[],g=e[2],h=!1,i=g(a=>{(f.push(a),c)?b(f.splice(0)):d||(d=Promise.resolve().then(()=>{d=void 0,h&&b(f.splice(0))}))});return h=!0,()=>{h=!1,i()}}function w(a){let b=p.get(a);(m.env?m.env.MODE:void 0)==="production"||b||console.warn("Please use proxy object");let[c,d]=b;return o(c,d())}function x(a){return q.add(a),a}function y(){return{proxyStateMap:p,refSet:q,snapCache:r,versionHolder:s,proxyCache:t}}a.s(["proxy",()=>function a(b={}){let c,d,e;if(!n(b))throw Error("object required");let f=t.get(b);if(f)return f;let g=s[0],h=new Set,i=(a,b=++s[0])=>{g!==b&&(j=g=b,h.forEach(c=>c(a,b)))},j=g,l=a=>(b,c)=>{let d=[...b];d[1]=[a,...d[1]],i(d,c)},o=new Map,r=!0,v=new Proxy(b,(c=()=>r,d=(a,b)=>{let c=!q.has(b)&&p.get(b);if(c){if((m.env?m.env.MODE:void 0)!=="production"&&o.has(a))throw Error("prop listener already exists");if(h.size){let b=c[2](l(a));o.set(a,[c,b])}else o.set(a,[c])}},e=a=>{var b;let c=o.get(a);c&&(o.delete(a),null==(b=c[1])||b.call(c))},{deleteProperty(a,b){let c=Reflect.get(a,b);e(b);let d=Reflect.deleteProperty(a,b);return d&&i(["delete",[b],c]),d},set(b,f,g,h){let j,l=!c()&&Reflect.has(b,f),m=Reflect.get(b,f,h);if(l&&(u(m,g)||t.has(g)&&u(m,t.get(g))))return!0;e(f),n(g)&&(g=k(g)||g);let o=!p.has(g)&&n(j=g)&&!q.has(j)&&(Array.isArray(j)||!(Symbol.iterator in j))&&!(j instanceof WeakMap)&&!(j instanceof WeakSet)&&!(j instanceof Error)&&!(j instanceof Number)&&!(j instanceof Date)&&!(j instanceof String)&&!(j instanceof RegExp)&&!(j instanceof ArrayBuffer)&&!(j instanceof Promise)?a(g):g;return d(f,o),Reflect.set(b,f,o,h),i(["set",[f],g,m]),!0}}));t.set(b,v);let w=[b,(a=s[0])=>(j!==a&&(j=a,o.forEach(([b])=>{let c=b[1](a);c>g&&(g=c)})),g),a=>(h.add(a),1===h.size&&o.forEach(([a,b],c)=>{if((m.env?m.env.MODE:void 0)!=="production"&&b)throw Error("remove already exists");let d=a[2](l(c));o.set(c,[a,d])}),()=>{h.delete(a),0===h.size&&o.forEach(([a,b],c)=>{b&&(b(),o.set(c,[a]))})})];return p.set(v,w),Reflect.ownKeys(b).forEach(a=>{let c=Object.getOwnPropertyDescriptor(b,a);"value"in c&&c.writable&&(v[a]=b[a])}),r=!1,v},"ref",()=>x,"snapshot",()=>w,"subscribe",()=>v,"unstable_getInternalStates",()=>y],252271)},129286,a=>{"use strict";var b=a.i(252271);function c(a,c,d,e){let f=a[c];return(0,b.subscribe)(a,()=>{let b=a[c];Object.is(f,b)||d(f=b)},e)}Symbol();let{proxyStateMap:d,snapCache:e}=(0,b.unstable_getInternalStates)();function f(a){let c=[],f=0,g=new Map,h=new WeakMap,i=a=>h.get(a)||g;if(a){if("function"!=typeof a[Symbol.iterator])throw TypeError("proxyMap:\n	initial state must be iterable\n		tip: structure should be [[key, value]]");for(let[b,d]of a)g.set(b,f),c[f++]=d}let j={data:c,index:f,epoch:0,get size(){return d.has(this)||(()=>{let a=e.get(j),b=null==a?void 0:a[1];if(b&&!h.has(b)){let a=new Map(g);h.set(b,a)}})(),i(this).size},get(a){let b=i(this).get(a);return void 0===b?void this.epoch:this.data[b]},has(a){let b=i(this);return this.epoch,b.has(a)},set(a,b){if(!d.has(this))throw Error("Cannot perform mutations on a snapshot");let c=g.get(a);return void 0===c?(g.set(a,this.index),this.data[this.index++]=b):this.data[c]=b,this.epoch++,this},delete(a){if(!d.has(this))throw Error("Cannot perform mutations on a snapshot");let b=g.get(a);return void 0!==b&&(delete this.data[b],g.delete(a),this.epoch++,!0)},clear(){if(!d.has(this))throw Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,g.clear()},forEach(a){this.epoch,i(this).forEach((b,c)=>{a(this.data[b],c,this)})},*entries(){for(let[a,b]of(this.epoch,i(this)))yield[a,this.data[b]]},*keys(){for(let a of(this.epoch,i(this).keys()))yield a},*values(){for(let a of(this.epoch,i(this).values()))yield this.data[a]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},k=(0,b.proxy)(j);return Object.defineProperties(k,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(k),k}let{proxyStateMap:g,snapCache:h}=(0,b.unstable_getInternalStates)();a.s(["proxyMap",()=>f,"subscribeKey",()=>c])},977601,a=>{"use strict";var b=a.i(883148);let c={[b.ConstantsUtil.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[b.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[b.ConstantsUtil.CONNECTOR_ID.BASE_ACCOUNT]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[b.ConstantsUtil.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[b.ConstantsUtil.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[b.ConstantsUtil.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[b.ConstantsUtil.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[b.ConstantsUtil.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[b.ConstantsUtil.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[b.ConstantsUtil.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[b.ConstantsUtil.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[b.ConstantsUtil.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[b.ConstantsUtil.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[b.ConstantsUtil.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[b.ConstantsUtil.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[b.ConstantsUtil.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[b.ConstantsUtil.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[b.ConstantsUtil.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[b.ConstantsUtil.BINANCE_CONNECTOR_NAME]:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25"},d=(b.ConstantsUtil.CONNECTOR_ID.COINBASE,b.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK,b.ConstantsUtil.CONNECTOR_ID.BASE_ACCOUNT,b.ConstantsUtil.CONNECTOR_ID.SAFE,b.ConstantsUtil.CONNECTOR_ID.LEDGER,b.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT,b.ConstantsUtil.CONNECTOR_ID.INJECTED,b.ConstantsUtil.CONNECTOR_ID.INJECTED,b.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT,b.ConstantsUtil.CONNECTOR_ID.COINBASE,b.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK,b.ConstantsUtil.CONNECTOR_ID.BASE_ACCOUNT,b.ConstantsUtil.CONNECTOR_ID.LEDGER,b.ConstantsUtil.CONNECTOR_ID.SAFE,b.ConstantsUtil.CONNECTOR_ID.INJECTED,b.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT,b.ConstantsUtil.CONNECTOR_ID.EIP6963,b.ConstantsUtil.CONNECTOR_ID.AUTH,("u">typeof process&&void 0!==process.env?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"),e={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:d,SECURE_SITE_DASHBOARD:`${d}/dashboard`,SECURE_SITE_FAVICON:`${d}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USDâ‚®0"]},BALANCE_SUPPORTED_CHAINS:[b.ConstantsUtil.CHAIN.EVM,b.ConstantsUtil.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[b.ConstantsUtil.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[b.ConstantsUtil.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[b.ConstantsUtil.CHAIN.EVM,b.ConstantsUtil.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[b.ConstantsUtil.CHAIN.EVM,b.ConstantsUtil.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[b.ConstantsUtil.CHAIN.EVM,b.ConstantsUtil.CHAIN.TON],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x",ton:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[b.ConstantsUtil.CHAIN.EVM,b.ConstantsUtil.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1,headless:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1,headless:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1,headless:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa",ton:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0},MANDATORY_WALLET_IDS_ON_MOBILE:[c[b.ConstantsUtil.CONNECTOR_ID.COINBASE],c[b.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK],c[b.ConstantsUtil.CONNECTOR_ID.BASE_ACCOUNT],c[b.ConstantsUtil.SOLFLARE_CONNECTOR_NAME],c[b.ConstantsUtil.PHANTOM_CONNECTOR_NAME],c[b.ConstantsUtil.BINANCE_CONNECTOR_NAME]],DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"]};a.s(["ConstantsUtil",0,e,"MELD_PUBLIC_KEY",0,"WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU","ONRAMP_PROVIDERS",0,[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}]],977601)},680704,a=>{"use strict";function b(a){if(!a)throw Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${a}:connected_connector_id`}function c(){return!1}a.s(["SafeLocalStorage",0,{setItem(a,b){},getItem(a){},removeItem(a){},clear(){}},"SafeLocalStorageKeys",0,{WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version",TON_WALLETS_CACHE:"@appkit/ton_wallets_cache"},"getSafeConnectorIdKey",()=>b,"isSafe",()=>c])},135323,82228,a=>{"use strict";var b=a.i(883148),c=a.i(977601),d=a.i(680704);let e={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5,tonWallets:864e5},isCacheExpired:(a,b)=>Date.now()-a>b,getActiveNetworkProps(){let a=e.getActiveNamespace(),b=e.getActiveCaipNetworkId(),c=b?b.split(":")[1]:void 0;return{namespace:a,caipNetworkId:b,chainId:c?isNaN(Number(c))?c:Number(c):void 0}},setWalletConnectDeepLink({name:a,href:b}){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.DEEPLINK_CHOICE,JSON.stringify({href:b,name:a}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.DEEPLINK_CHOICE);if(a)return JSON.parse(a)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.ACTIVE_NAMESPACE,a)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID,a),e.setActiveNamespace(a.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(a){try{let b=(0,d.getSafeConnectorIdKey)(a);d.SafeLocalStorage.removeItem(b)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(a){try{let b=e.getRecentWallets();b.find(b=>b.id===a.id)||(b.unshift(a),b.length>2&&b.pop(),d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.RECENT_WALLETS,JSON.stringify(b)),d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.RECENT_WALLET,JSON.stringify(a)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.RECENT_WALLETS);return a?JSON.parse(a):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.RECENT_WALLET);return a?JSON.parse(a):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(a,b){try{let c=(0,d.getSafeConnectorIdKey)(a);d.SafeLocalStorage.setItem(c,b)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(a){if(a)try{let b=(0,d.getSafeConnectorIdKey)(a);return d.SafeLocalStorage.getItem(b)}catch(b){console.info("Unable to get connected connector id in namespace",a)}},setConnectedSocialProvider(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.CONNECTED_SOCIAL,a)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);return a?.split(":")?.[1]},setConnectionStatus(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.CONNECTION_STATUS,a)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.CONNECTED_NAMESPACES);if(!a?.length)return[];return a.split(",")}catch{return[]}},setConnectedNamespaces(a){try{let b=Array.from(new Set(a));d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.CONNECTED_NAMESPACES,b.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(a){try{let b=e.getConnectedNamespaces();b.includes(a)||(b.push(a),e.setConnectedNamespaces(b))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(a){try{let b=e.getConnectedNamespaces(),c=b.indexOf(a);c>-1&&(b.splice(c,1),e.setConnectedNamespaces(b))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER,a)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let a={};try{let b=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.PORTFOLIO_CACHE);a=b?JSON.parse(b):{}}catch{console.info("Unable to get balance cache")}return a},removeAddressFromBalanceCache(a){try{let b=e.getBalanceCache();d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.PORTFOLIO_CACHE,JSON.stringify({...b,[a]:void 0}))}catch{console.info("Unable to remove address from balance cache",a)}},getBalanceCacheForCaipAddress(a){try{let b=e.getBalanceCache()[a];if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.portfolio))return b.balance;e.removeAddressFromBalanceCache(a)}catch{console.info("Unable to get balance cache for address",a)}},updateBalanceCache(a){try{let b=e.getBalanceCache();b[a.caipAddress]=a,d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.PORTFOLIO_CACHE,JSON.stringify(b))}catch{console.info("Unable to update balance cache",a)}},getNativeBalanceCache(){let a={};try{let b=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);a=b?JSON.parse(b):{}}catch{console.info("Unable to get balance cache")}return a},removeAddressFromNativeBalanceCache(a){try{let b=e.getBalanceCache();d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE,JSON.stringify({...b,[a]:void 0}))}catch{console.info("Unable to remove address from balance cache",a)}},getNativeBalanceCacheForCaipAddress(a){try{let b=e.getNativeBalanceCache()[a];if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.nativeBalance))return b;console.info("Discarding cache for address",a),e.removeAddressFromBalanceCache(a)}catch{console.info("Unable to get balance cache for address",a)}},updateNativeBalanceCache(a){try{let b=e.getNativeBalanceCache();b[a.caipAddress]=a,d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE,JSON.stringify(b))}catch{console.info("Unable to update balance cache",a)}},getEnsCache(){let a={};try{let b=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.ENS_CACHE);a=b?JSON.parse(b):{}}catch{console.info("Unable to get ens name cache")}return a},getEnsFromCacheForAddress(a){try{let b=e.getEnsCache()[a];if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.ens))return b.ens;e.removeEnsFromCache(a)}catch{console.info("Unable to get ens name from cache",a)}},updateEnsCache(a){try{let b=e.getEnsCache();b[a.address]=a,d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.ENS_CACHE,JSON.stringify(b))}catch{console.info("Unable to update ens name cache",a)}},removeEnsFromCache(a){try{let b=e.getEnsCache();d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.ENS_CACHE,JSON.stringify({...b,[a]:void 0}))}catch{console.info("Unable to remove ens name from cache",a)}},getIdentityCache(){let a={};try{let b=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.IDENTITY_CACHE);a=b?JSON.parse(b):{}}catch{console.info("Unable to get identity cache")}return a},getIdentityFromCacheForAddress(a){try{let b=e.getIdentityCache()[a];if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.identity))return b.identity;e.removeIdentityFromCache(a)}catch{console.info("Unable to get identity from cache",a)}},updateIdentityCache(a){try{let b=e.getIdentityCache();b[a.address]={identity:a.identity,timestamp:a.timestamp},d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.IDENTITY_CACHE,JSON.stringify(b))}catch{console.info("Unable to update identity cache",a)}},removeIdentityFromCache(a){try{let b=e.getIdentityCache();d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.IDENTITY_CACHE,JSON.stringify({...b,[a]:void 0}))}catch{console.info("Unable to remove identity from cache",a)}},getTonWalletsCache(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.TON_WALLETS_CACHE),b=a?JSON.parse(a):void 0;if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.tonWallets))return b;e.removeTonWalletsCache()}catch{console.info("Unable to get ton wallets cache")}},updateTonWalletsCache(a){try{let b=e.getTonWalletsCache()||{timestamp:0,wallets:[]};b.timestamp=new Date().getTime(),b.wallets=a,d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.TON_WALLETS_CACHE,JSON.stringify(b))}catch{console.info("Unable to update ton wallets cache",a)}},removeTonWalletsCache(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.TON_WALLETS_CACHE)}catch{console.info("Unable to remove ton wallets cache")}},clearAddressCache(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.PORTFOLIO_CACHE),d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE),d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.ENS_CACHE),d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.IDENTITY_CACHE),d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES,JSON.stringify(a))}catch{console.info("Unable to set preferred account types",a)}},getPreferredAccountTypes(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES);if(!a)return{};return JSON.parse(a)}catch{console.info("Unable to get preferred account types")}return{}},setConnections(a,c){try{let f=e.getConnections(),g=f[c]??[],h=new Map;for(let a of g)h.set(a.connectorId,{...a});for(let c of a){let a=h.get(c.connectorId),d=c.connectorId===b.ConstantsUtil.CONNECTOR_ID.AUTH;if(a&&!d){let b=new Set(a.accounts.map(a=>a.address.toLowerCase())),d=c.accounts.filter(a=>!b.has(a.address.toLowerCase()));a.accounts.push(...d)}else h.set(c.connectorId,{...c})}let i={...f,[c]:Array.from(h.values())};d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.CONNECTIONS,JSON.stringify(i))}catch(a){console.error("Unable to sync connections to storage",a)}},getConnections(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.CONNECTIONS);if(!a)return{};return JSON.parse(a)}catch(a){return console.error("Unable to get connections from storage",a),{}}},deleteAddressFromConnection({connectorId:a,address:b,namespace:c}){try{let f=e.getConnections(),g=f[c]??[],h=new Map(g.map(a=>[a.connectorId,a])),i=h.get(a);if(i){let c=i.accounts.filter(a=>a.address.toLowerCase()!==b.toLowerCase());0===c.length?h.delete(a):h.set(a,{...i,accounts:i.accounts.filter(a=>a.address.toLowerCase()!==b.toLowerCase())})}d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.CONNECTIONS,JSON.stringify({...f,[c]:Array.from(h.values())}))}catch{console.error(`Unable to remove address "${b}" from connector "${a}" in namespace "${c}"`)}},getDisconnectedConnectorIds(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS);if(!a)return{};return JSON.parse(a)}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(a,b){try{let c=e.getDisconnectedConnectorIds(),f=c[b]??[];f.push(a),d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...c,[b]:Array.from(new Set(f))}))}catch{console.error(`Unable to set disconnected connector id "${a}" for namespace "${b}"`)}},removeDisconnectedConnectorId(a,b){try{let c=e.getDisconnectedConnectorIds(),f=c[b]??[];f=f.filter(b=>b.toLowerCase()!==a.toLowerCase()),d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...c,[b]:Array.from(new Set(f))}))}catch{console.error(`Unable to remove disconnected connector id "${a}" for namespace "${b}"`)}},isConnectorDisconnected(a,b){try{return(e.getDisconnectedConnectorIds()[b]??[]).some(b=>b.toLowerCase()===a.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${a}" for namespace "${b}"`)}return!1},getTransactionsCache(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE);return a?JSON.parse(a):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:a,chainId:b=""}){try{let c=e.getTransactionsCache(),d=c[a]?.[b];if(d&&!this.isCacheExpired(d.timestamp,this.cacheExpiry.transactionsHistory))return d.transactions;e.removeTransactionsCache({address:a,chainId:b})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:a,chainId:b="",timestamp:c,transactions:f}){try{let g=e.getTransactionsCache();g[a]={...g[a],[b]:{timestamp:c,transactions:f}},d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(g))}catch{console.info("Unable to update transactions cache",{address:a,chainId:b,timestamp:c,transactions:f})}},removeTransactionsCache({address:a,chainId:b}){try{let c=e.getTransactionsCache(),{[b]:f,...g}=c?.[a]||{};d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...c,[a]:g}))}catch{console.info("Unable to remove transactions cache",{address:a,chainId:b})}},getTokenPriceCache(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.TOKEN_PRICE_CACHE);return a?JSON.parse(a):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(a){try{let b=e.getTokenPriceCache()[a.join(",")];if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.tokenPrice))return b.tokenPrice;e.removeTokenPriceCache(a)}catch{console.info("Unable to get token price cache for addresses",a)}},updateTokenPriceCache(a){try{let b=e.getTokenPriceCache();b[a.addresses.join(",")]={timestamp:a.timestamp,tokenPrice:a.tokenPrice},d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.TOKEN_PRICE_CACHE,JSON.stringify(b))}catch{console.info("Unable to update token price cache",a)}},removeTokenPriceCache(a){try{let b=e.getTokenPriceCache();d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.TOKEN_PRICE_CACHE,JSON.stringify({...b,[a.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",a)}},getLatestAppKitVersion(){try{let a=this.getLatestAppKitVersionCache(),b=a?.version;if(b&&!this.isCacheExpired(a.timestamp,this.cacheExpiry.latestAppKitVersion))return b}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.LATEST_APPKIT_VERSION);return a?JSON.parse(a):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(a){try{let b=e.getLatestAppKitVersionCache();b.timestamp=a.timestamp,b.version=a.version,d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.LATEST_APPKIT_VERSION,JSON.stringify(b))}catch{console.info("Unable to update latest AppKit version on local storage",a)}}};a.s(["StorageUtil",0,e],82228);let f={getWindow(){},isMobile(){return!!this.isClient()&&!!(window?.matchMedia&&"function"==typeof window.matchMedia&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent))},checkCaipNetwork:(a,b="")=>a?.caipNetworkId.toLocaleLowerCase().includes(b.toLowerCase()),isAndroid(){if(!this.isMobile())return!1;let a=window?.navigator.userAgent.toLowerCase();return f.isMobile()&&a.includes("android")},isIos(){if(!this.isMobile())return!1;let a=window?.navigator.userAgent.toLowerCase();return a.includes("iphone")||a.includes("ipad")},isSafari(){return!!this.isClient()&&(window?.navigator.userAgent.toLowerCase()).includes("safari")},isClient:()=>!1,isPairingExpired:a=>!a||a-Date.now()<=c.ConstantsUtil.TEN_SEC_MS,isAllowedRetry:(a,b=c.ConstantsUtil.ONE_SEC_MS)=>Date.now()-a>=b,copyToClopboard(a){navigator.clipboard.writeText(a)},isIframe(){try{return window?.self!==window?.top}catch(a){return!1}},isSafeApp(){if(f.isClient()&&window.self!==window.top)try{let a=window?.location?.ancestorOrigins?.[0];if(a){let b=new URL(a),c=new URL("https://app.safe.global");return b.hostname===c.hostname}}catch{}return!1},getPairingExpiry:()=>Date.now()+c.ConstantsUtil.FOUR_MINUTES_MS,getNetworkId:a=>a?.split(":")[1],getPlainAddress:a=>a?.split(":")[2],wait:async a=>new Promise(b=>{setTimeout(b,a)}),debounce(a,b=500){let c;return(...d)=>{c&&clearTimeout(c),c=setTimeout(function(){a(...d)},b)}},isHttpUrl:a=>a.startsWith("http://")||a.startsWith("https://"),formatNativeUrl(a,b,c=null){if(f.isHttpUrl(a))return this.formatUniversalUrl(a,b);let d=a,e=c;d.includes("://")||(d=a.replaceAll("/","").replaceAll(":",""),d=`${d}://`),d.endsWith("/")||(d=`${d}/`),e&&!e?.endsWith("/")&&(e=`${e}/`),this.isTelegram()&&this.isAndroid()&&(b=encodeURIComponent(b));let g=encodeURIComponent(b);return{redirect:`${d}wc?uri=${g}`,redirectUniversalLink:e?`${e}wc?uri=${g}`:void 0,href:d}},formatUniversalUrl(a,b){if(!f.isHttpUrl(a))return this.formatNativeUrl(a,b);let c=a;c.endsWith("/")||(c=`${c}/`);let d=encodeURIComponent(b);return{redirect:`${c}wc?uri=${d}`,href:c}},getOpenTargetForPlatform(a){return"popupWindow"===a?a:this.isTelegram()?e.getTelegramSocialProvider()?"_top":"_blank":a},openHref(a,b,c){window?.open(a,this.getOpenTargetForPlatform(b),c||"noreferrer noopener")},returnOpenHref(a,b,c){return window?.open(a,this.getOpenTargetForPlatform(b),c||"noreferrer noopener")},isTelegram:()=>!1,isPWA:()=>!1,preloadImage:async a=>Promise.race([new Promise((b,c)=>{let d=new Image;d.onload=b,d.onerror=c,d.crossOrigin="anonymous",d.src=a}),f.wait(2e3)]),parseBalance(a,b){let c="0.000";if("string"==typeof a){let b=Number(a);if(!isNaN(b)){let a=(Math.floor(1e3*b)/1e3).toFixed(3);a&&(c=a)}}let[d,e]=c.split("."),f=d||"0",g=e||"000";return{formattedText:`${f}.${g}${b?` ${b}`:""}`,value:f,decimals:g,symbol:b}},getApiUrl:()=>b.ConstantsUtil.W3M_API_URL,getBlockchainApiUrl:()=>b.ConstantsUtil.BLOCKCHAIN_API_RPC_URL,getAnalyticsUrl:()=>b.ConstantsUtil.PULSE_API_URL,getUUID:()=>crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,a=>{let b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)}),parseError:a=>"string"==typeof a?a:"string"==typeof a?.issues?.[0]?.message?a.issues[0].message:a instanceof Error?a.message:"Unknown error",sortRequestedNetworks(a,b=[]){let c={};return b&&a&&(a.forEach((a,b)=>{c[a]=b}),b.sort((a,b)=>{let d=c[a.id],e=c[b.id];return void 0!==d&&void 0!==e?d-e:void 0!==d?-1:1*(void 0!==e)})),b},calculateBalance(a){let b=0;for(let c of a)b+=c.value??0;return b},formatTokenBalance(a){let[b,c]=a.toFixed(2).split(".");return{dollars:b,pennies:c}},isAddress(a,b="eip155"){switch(b){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(a)&&(/^(?:0x)?[0-9a-f]{40}$/iu.test(a)||/^(?:0x)?[0-9A-F]{40}$/iu.test(a)))return!0;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(a);case"bip122":{let b=/^[1][a-km-zA-HJ-NP-Z1-9]{25,34}$/u.test(a),c=/^[3][a-km-zA-HJ-NP-Z1-9]{25,34}$/u.test(a),d=/^bc1[a-z0-9]{39,87}$/u.test(a),e=/^bc1p[a-z0-9]{58}$/u.test(a);return b||c||d||e}default:return!1}},uniqueBy(a,b){let c=new Set;return a.filter(a=>{let d=a[b];return!c.has(d)&&(c.add(d),!0)})},generateSdkVersion(a,b,d){let e=0===a.length?c.ConstantsUtil.ADAPTER_TYPES.UNIVERSAL:a.map(a=>a.adapterType).join(",");return`${b}-${e}-${d}`},createAccount:(a,b,c,d,e)=>({namespace:a,address:b,type:c,publicKey:d,path:e}),isCaipAddress(a){if("string"!=typeof a)return!1;let c=a.split(":"),d=c[0];return 3===c.filter(Boolean).length&&d in b.ConstantsUtil.CHAIN_NAME_MAP},getAccount:a=>a?"string"==typeof a?{address:a,chainId:void 0}:{address:a.address,chainId:a.chainId}:{address:void 0,chainId:void 0},isMac(){let a=window?.navigator.userAgent.toLowerCase();return a.includes("macintosh")&&!a.includes("safari")},formatTelegramSocialLoginUrl(a){let b=`--${encodeURIComponent(window?.location.href)}`,c="state=";if("auth.magic.link"===new URL(a).host){let d="provider_authorization_url=",e=a.substring(a.indexOf(d)+d.length),f=this.injectIntoUrl(decodeURIComponent(e),c,b);return a.replace(e,encodeURIComponent(f))}return this.injectIntoUrl(a,c,b)},injectIntoUrl(a,b,c){let d=a.indexOf(b);if(-1===d)throw Error(`${b} parameter not found in the URL: ${a}`);let e=a.indexOf("&",d),f=b.length,g=-1!==e?e:a.length;return a.substring(0,d+f)+(a.substring(d+f,g)+c)+a.substring(e)},isNumber:a=>("number"==typeof a||"string"==typeof a)&&!isNaN(Number(a)),appendPayToUri:(a,b)=>b?`${a}&pay=${encodeURIComponent(b)}`:a};a.s(["CoreHelperUtil",0,f],135323)},939546,a=>{"use strict";async function b(...a){let c=await fetch(...a);if(!c.ok)throw Error(`HTTP status code: ${c.status}`,{cause:c});return c}class c{constructor({baseUrl:a,clientId:b}){this.baseUrl=a,this.clientId=b}async get({headers:a,signal:c,cache:d,...e}){let f=this.createUrl(e);return(await b(f,{method:"GET",headers:a,signal:c,cache:d})).json()}async getBlob({headers:a,signal:c,...d}){let e=this.createUrl(d);return(await b(e,{method:"GET",headers:a,signal:c})).blob()}async post({body:a,headers:c,signal:d,...e}){let f=this.createUrl(e);return(await b(f,{method:"POST",headers:c,body:a?JSON.stringify(a):void 0,signal:d})).json()}async put({body:a,headers:c,signal:d,...e}){let f=this.createUrl(e);return(await b(f,{method:"PUT",headers:c,body:a?JSON.stringify(a):void 0,signal:d})).json()}async delete({body:a,headers:c,signal:d,...e}){let f=this.createUrl(e);return(await b(f,{method:"DELETE",headers:c,body:a?JSON.stringify(a):void 0,signal:d})).json()}createUrl({path:a,params:b}){let c=new URL(a,this.baseUrl);return b&&Object.entries(b).forEach(([a,b])=>{b&&c.searchParams.append(a,b)}),this.clientId&&c.searchParams.append("clientId",this.clientId),c}sendBeacon({body:a,...b}){let c=this.createUrl(b);return navigator.sendBeacon(c.toString(),a?JSON.stringify(a):void 0)}}a.s(["FetchUtil",()=>c])},929581,a=>{"use strict";var b=a.i(252271),c=a.i(129286),d=a.i(135323),e=a.i(939546);let f=Object.freeze({enabled:!0,events:[]});new e.FetchUtil({baseUrl:d.CoreHelperUtil.getAnalyticsUrl(),clientId:null});let g=(0,b.proxy)({...f}),h={state:g,subscribeKey:(a,b)=>(0,c.subscribeKey)(g,a,b),async sendError(a,b){if(!g.enabled)return;let c=Date.now();if(g.events.filter(a=>c-new Date(a.properties.timestamp||"").getTime()<6e4).length>=5)return;let d={type:"error",event:b,properties:{errorType:a.name,errorMessage:a.message,stackTrace:a.stack,timestamp:new Date().toISOString()}};g.events.push(d);try{return}catch{}},enable(){g.enabled=!0},disable(){g.enabled=!1},clearEvents(){g.events=[]}};class i extends Error{constructor(a,b,c){super(a),this.originalName="AppKitError",this.name="AppKitError",this.category=b,this.originalError=c,c&&c instanceof Error&&(this.originalName=c.name),Object.setPrototypeOf(this,i.prototype);let d=!1;if(c instanceof Error&&"string"==typeof c.stack&&c.stack){const a=c.stack,b=a.indexOf("\n");if(b>-1){const c=a.substring(b+1);this.stack=`${this.name}: ${this.message}
${c}`,d=!0}}!d&&(Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function j(a,b){let c="";try{c=a instanceof Error?a.message:"string"==typeof a?a:"object"==typeof a&&null!==a?0===Object.keys(a).length?"Unknown error":a?.message||JSON.stringify(a):String(a)}catch(a){c="Unknown error",console.error("Error parsing error message",a)}let d=a instanceof i?a:new i(c,b,a);throw h.sendError(d,d.category),d}function k(a,b="INTERNAL_SDK_ERROR"){let c={};return Object.keys(a).forEach(d=>{let e=a[d];if("function"==typeof e){let a=e;a="AsyncFunction"===e.constructor.name?async(...a)=>{try{return await e(...a)}catch(a){return j(a,b)}}:(...a)=>{try{return e(...a)}catch(a){return j(a,b)}},c[d]=a}else c[d]=e}),c}a.s(["AppKitError",()=>i,"withErrorBoundary",()=>k],929581)},706556,a=>{"use strict";var b=a.i(252271),c=a.i(129286),d=a.i(929581);let e=(0,b.proxy)({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),f=(0,d.withErrorBoundary)({state:e,subscribeNetworkImages:a=>(0,b.subscribe)(e.networkImages,()=>a(e.networkImages)),subscribeKey:(a,b)=>(0,c.subscribeKey)(e,a,b),subscribe:a=>(0,b.subscribe)(e,()=>a(e)),setWalletImage(a,b){e.walletImages[a]=b},setNetworkImage(a,b){e.networkImages[a]=b},setChainImage(a,b){e.chainImages[a]=b},setConnectorImage(a,b){e.connectorImages={...e.connectorImages,[a]:b}},setTokenImage(a,b){e.tokenImages[a]=b},setCurrencyImage(a,b){e.currencyImages[a]=b}});a.s(["AssetController",0,f])},94702,831218,a=>{"use strict";a.s(["OptionsController",()=>h],94702);var b=a.i(252271),c=a.i(129286),d=a.i(977601),e=a.i(135323);a.s(["OptionsUtil",()=>f],831218);let f={getFeatureValue(a,b){let c=b?.[a];return void 0===c?d.ConstantsUtil.DEFAULT_FEATURES[a]:c},filterSocialsByPlatform(a){if(!a||!a.length)return a;let b=a;return e.CoreHelperUtil.isTelegram()&&(e.CoreHelperUtil.isIos()&&(b=b.filter(a=>"google"!==a)),e.CoreHelperUtil.isMac()&&(b=b.filter(a=>"x"!==a)),e.CoreHelperUtil.isAndroid()&&(b=b.filter(a=>!["facebook","x"].includes(a)))),e.CoreHelperUtil.isMobile()&&(b=b.filter(a=>"facebook"!==a)),b},isSocialsEnabled:()=>Array.isArray(h.state.features?.socials)&&h.state.features?.socials.length>0||Array.isArray(h.state.remoteFeatures?.socials)&&h.state.remoteFeatures?.socials.length>0,isEmailEnabled:()=>!!(h.state.features?.email||h.state.remoteFeatures?.email)},g=(0,b.proxy)({features:d.ConstantsUtil.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:d.ConstantsUtil.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),h={state:g,subscribeKey:(a,b)=>(0,c.subscribeKey)(g,a,b),setOptions(a){Object.assign(g,a)},setRemoteFeatures(a){if(!a)return;let b={...g.remoteFeatures,...a};g.remoteFeatures=b,g.remoteFeatures?.socials&&(g.remoteFeatures.socials=f.filterSocialsByPlatform(g.remoteFeatures.socials)),g.features?.pay&&(g.remoteFeatures.email=!1,g.remoteFeatures.socials=!1)},setFeatures(a){if(!a)return;g.features||(g.features=d.ConstantsUtil.DEFAULT_FEATURES);let b={...g.features,...a};g.features=b,g.features?.pay&&g.remoteFeatures&&(g.remoteFeatures.email=!1,g.remoteFeatures.socials=!1)},setProjectId(a){g.projectId=a},setCustomRpcUrls(a){g.customRpcUrls=a},setAllWallets(a){g.allWallets=a},setIncludeWalletIds(a){g.includeWalletIds=a},setExcludeWalletIds(a){g.excludeWalletIds=a},setFeaturedWalletIds(a){g.featuredWalletIds=a},setTokens(a){g.tokens=a},setTermsConditionsUrl(a){g.termsConditionsUrl=a},setPrivacyPolicyUrl(a){g.privacyPolicyUrl=a},setCustomWallets(a){g.customWallets=a},setIsSiweEnabled(a){g.isSiweEnabled=a},setIsUniversalProvider(a){g.isUniversalProvider=a},setSdkVersion(a){g.sdkVersion=a},setMetadata(a){g.metadata=a},setDisableAppend(a){g.disableAppend=a},setEIP6963Enabled(a){g.enableEIP6963=a},setDebug(a){g.debug=a},setEnableWalletGuide(a){g.enableWalletGuide=a},setEnableAuthLogger(a){g.enableAuthLogger=a},setEnableWallets(a){g.enableWallets=a},setPreferUniversalLinks(a){g.experimental_preferUniversalLinks=a},setSIWX(a){if(a)for(let[b,c]of Object.entries(d.ConstantsUtil.SIWX_DEFAULTS))a[b]??=c;g.siwx=a},setConnectMethodsOrder(a){g.features={...g.features,connectMethodsOrder:a}},setWalletFeaturesOrder(a){g.features={...g.features,walletFeaturesOrder:a}},setSocialsOrder(a){g.remoteFeatures={...g.remoteFeatures,socials:a}},setCollapseWallets(a){g.features={...g.features,collapseWallets:a}},setEnableEmbedded(a){g.enableEmbedded=a},setAllowUnsupportedChain(a){g.allowUnsupportedChain=a},setManualWCControl(a){g.manualWCControl=a},setEnableNetworkSwitch(a){g.enableNetworkSwitch=a},setEnableMobileFullScreen(a){g.enableMobileFullScreen=e.CoreHelperUtil.isMobile()&&a},setEnableReconnect(a){g.enableReconnect=a},setCoinbasePreference(a){g.coinbasePreference=a},setDefaultAccountTypes(a={}){Object.entries(a).forEach(([a,b])=>{b&&(g.defaultAccountTypes[a]=b)})},setUniversalProviderConfigOverride(a){g.universalProviderConfigOverride=a},getUniversalProviderConfigOverride:()=>g.universalProviderConfigOverride,getSnapshot:()=>(0,b.snapshot)(g)}},898965,a=>{"use strict";a.s(["AssetUtil",()=>i]);var b=a.i(252271),c=a.i(883148),d=a.i(321590),e=a.i(706556),f=a.i(94702);let g={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:"",ton:"20f673c0-095e-49b2-07cf-eb5049dcf600"},h=(0,b.proxy)({networkImagePromises:{},tokenImagePromises:{}}),i={async fetchWalletImage(a){if(a)return await d.ApiController._fetchWalletImage(a),this.getWalletImageById(a)},async fetchNetworkImage(a){if(!a)return;let b=this.getNetworkImageById(a);return b||(h.networkImagePromises[a]||(h.networkImagePromises[a]=d.ApiController._fetchNetworkImage(a)),await h.networkImagePromises[a],this.getNetworkImageById(a))},async fetchTokenImage(a){if(a)return h.tokenImagePromises[a]||(h.tokenImagePromises[a]=d.ApiController._fetchTokenImage(a)),await h.tokenImagePromises[a],this.getTokenImage(a)},getWalletImageById(a){if(a)return e.AssetController.state.walletImages[a]},getWalletImage:a=>a?.image_url?a?.image_url:a?.image_id?e.AssetController.state.walletImages[a.image_id]:void 0,getNetworkImage:a=>a?.assets?.imageUrl?a?.assets?.imageUrl:a?.assets?.imageId?e.AssetController.state.networkImages[a.assets.imageId]:void 0,getNetworkImageById(a){if(a)return e.AssetController.state.networkImages[a]},getConnectorImage:a=>a?.imageUrl?a.imageUrl:a?.info?.icon?a.info.icon:a?.imageId?e.AssetController.state.connectorImages[a.imageId]:void 0,getChainImage:a=>e.AssetController.state.networkImages[g[a]],getTokenImage(a){if(a)return e.AssetController.state.tokenImages[a]},getWalletImageUrl(a){if(!a)return"";let{projectId:b,sdkType:d,sdkVersion:e}=f.OptionsController.state,g=new URL(`${c.ConstantsUtil.W3M_API_URL}/getWalletImage/${a}`);return g.searchParams.set("projectId",b),g.searchParams.set("st",d),g.searchParams.set("sv",e),g.toString()},getAssetImageUrl(a){if(!a)return"";let{projectId:b,sdkType:d,sdkVersion:e}=f.OptionsController.state,g=new URL(`${c.ConstantsUtil.W3M_API_URL}/public/getAssetImage/${a}`);return g.searchParams.set("projectId",b),g.searchParams.set("st",d),g.searchParams.set("sv",e),g.toString()},getChainNamespaceImageUrl(a){return this.getAssetImageUrl(g[a])},async getImageByToken(a,b){if("native"===a){let a=c.ConstantsUtil.NATIVE_IMAGE_IDS_BY_NAMESPACE[b]??null;if(!a)return;return i.fetchNetworkImage(a)}let[,d]=Object.entries(c.ConstantsUtil.TOKEN_SYMBOLS_BY_ADDRESS).find(([b])=>b.toLowerCase()===a.toLowerCase())??[];if(d)return i.fetchTokenImage(d)}}},447649,a=>{"use strict";var b=a.i(883148);a.s(["AVAILABLE_NAMESPACES",0,["eip155","solana","polkadot","bip122","cosmos","sui","stacks"],"NetworkUtil",0,{caipNetworkIdToNumber:a=>a?Number(a.split(":")[1]):void 0,parseEvmChainId(a){return"string"==typeof a?this.caipNetworkIdToNumber(a):a},getNetworksByNamespace:(a,b)=>a?.filter(a=>a.chainNamespace===b)||[],getFirstNetworkByNamespace(a,b){return this.getNetworksByNamespace(a,b)[0]},getNetworkNameByCaipNetworkId(a,c){if(!c)return;let d=a.find(a=>a.caipNetworkId===c);if(d)return d.name;let[e]=c.split(":");return b.ConstantsUtil.CHAIN_NAME_MAP?.[e]||void 0}}])},922848,a=>{"use strict";a.s(["ParseUtil",0,{validateCaipAddress(a){if(a.split(":")?.length!==3)throw Error("Invalid CAIP Address");return a},parseCaipAddress(a){let b=a.split(":");if(3!==b.length)throw Error(`Invalid CAIP-10 address: ${a}`);let[c,d,e]=b;if(!c||!d||!e)throw Error(`Invalid CAIP-10 address: ${a}`);return{chainNamespace:c,chainId:d,address:e}},parseCaipNetworkId(a){let b=a.split(":");if(2!==b.length)throw Error(`Invalid CAIP-2 network id: ${a}`);let[c,d]=b;if(!c||!d)throw Error(`Invalid CAIP-2 network id: ${a}`);return{chainNamespace:c,chainId:d}}}])},83965,a=>{"use strict";let b=("u">typeof process&&void 0!==process.env?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||"https://secure.walletconnect.org/sdk",c=("u">typeof process&&void 0!==process.env?process.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",d=("u">typeof process&&void 0!==process.env?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4";a.s(["DEFAULT_LOG_LEVEL",0,c,"SECURE_SITE_SDK",0,b,"SECURE_SITE_SDK_VERSION",0,d,"W3mFrameConstants",0,{APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},"W3mFrameRpcConstants",0,{SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}}])},705346,769994,a=>{"use strict";a.s(["W3mFrameStorage",()=>f],705346);var b=a.i(83965);a.s(["W3mFrameHelpers",()=>e],769994);let c=/^0x(?:[A-Fa-f0-9]{64})$/u,d=/^0x(?:[a-fA-F0-9]{62,})$/u,e={checkIfAllowedToTriggerEmail(){let a=f.get(b.W3mFrameConstants.LAST_EMAIL_LOGIN_TIME);if(a){let b=Date.now()-Number(a);if(b<3e4){let a=Math.ceil((3e4-b)/1e3);throw Error(`Please try again after ${a} seconds`)}}},getTimeToNextEmailLogin(){let a=f.get(b.W3mFrameConstants.LAST_EMAIL_LOGIN_TIME);if(a){let b=Date.now()-Number(a);if(b<3e4)return Math.ceil((3e4-b)/1e3)}return 0},checkIfRequestExists:a=>b.W3mFrameRpcConstants.NOT_SAFE_RPC_METHODS.includes(a.method)||b.W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(a.method),getResponseType:a=>"string"==typeof a&&(a?.match(c)||a?.match(d))?b.W3mFrameConstants.RPC_RESPONSE_TYPE_TX:b.W3mFrameConstants.RPC_RESPONSE_TYPE_OBJECT,checkIfRequestIsSafe:a=>b.W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(a.method),isClient:!1},f={set(a,c){e.isClient&&localStorage.setItem(`${b.W3mFrameConstants.STORAGE_KEY}${a}`,c)},get:a=>e.isClient?localStorage.getItem(`${b.W3mFrameConstants.STORAGE_KEY}${a}`):null,delete(a,c){e.isClient&&(c?localStorage.removeItem(a):localStorage.removeItem(`${b.W3mFrameConstants.STORAGE_KEY}${a}`))}}},473439,531657,a=>{"use strict";a.s(["BlockchainApiController",()=>p],473439);var b=a.i(252271),c=a.i(977601),d=a.i(135323),e=a.i(939546),f=a.i(82228),g=a.i(602383),h=a.i(94702),i=a.i(129286);let j=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),k=(0,b.proxy)({...j}),l={state:k,subscribeKey:(a,b)=>(0,i.subscribeKey)(k,a,b),showLoading(a,b={}){this._showMessage({message:a,variant:"loading",...b})},showSuccess(a){this._showMessage({message:a,variant:"success"})},showSvg(a,b){this._showMessage({message:a,svg:b})},showError(a){let b=d.CoreHelperUtil.parseError(a);this._showMessage({message:b,variant:"error"})},hide(){k.message=j.message,k.variant=j.variant,k.svg=j.svg,k.open=j.open,k.autoClose=j.autoClose},_showMessage({message:a,svg:b,variant:c="success",autoClose:d=j.autoClose}){k.open?(k.open=!1,setTimeout(()=>{k.message=a,k.variant=c,k.svg=b,k.open=!0,k.autoClose=d},150)):(k.message=a,k.variant=c,k.svg=b,k.open=!0,k.autoClose=d)}};a.s(["SnackController",0,l],531657);let m={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},n=d.CoreHelperUtil.getBlockchainApiUrl(),o=(0,b.proxy)({clientId:null,api:new e.FetchUtil({baseUrl:n,clientId:null}),supportedChains:{http:[],ws:[]}}),p={state:o,async get(a){let{st:b,sv:c}=p.getSdkProperties(),d=h.OptionsController.state.projectId,e={...a.params||{},st:b,sv:c,projectId:d};return o.api.get({...a,params:e})},getSdkProperties(){let{sdkType:a,sdkVersion:b}=h.OptionsController.state;return{st:a||"unknown",sv:b||"unknown"}},async isNetworkSupported(a){if(!a)return!1;try{o.supportedChains.http.length||await p.getSupportedNetworks()}catch(a){return!1}return o.supportedChains.http.includes(a)},async getSupportedNetworks(){try{let a=await p.get({path:"v1/supported-chains"});return o.supportedChains=a,a}catch{return o.supportedChains}},async fetchIdentity({address:a}){let b=f.StorageUtil.getIdentityFromCacheForAddress(a);if(b)return b;let c=await p.get({path:`/v1/identity/${a}`,params:{sender:g.ChainController.state.activeCaipAddress?d.CoreHelperUtil.getPlainAddress(g.ChainController.state.activeCaipAddress):void 0}});return f.StorageUtil.updateIdentityCache({address:a,identity:c,timestamp:Date.now()}),c},async fetchTransactions({account:a,cursor:b,signal:c,cache:d,chainId:e}){if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};let h=f.StorageUtil.getTransactionsCacheForAddress({address:a,chainId:e});if(h)return h;let i=await p.get({path:`/v1/account/${a}/history`,params:{cursor:b,chainId:e},signal:c,cache:d});return f.StorageUtil.updateTransactionsCache({address:a,chainId:e,timestamp:Date.now(),transactions:i}),i},fetchSwapQuote:async({amount:a,userAddress:b,from:c,to:d,gasPrice:e})=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?p.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:a,userAddress:b,from:c,to:d,gasPrice:e}}):{quotes:[]},fetchSwapTokens:async({chainId:a})=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?p.get({path:"/v1/convert/tokens",params:{chainId:a}}):{tokens:[]},getAddressBalance:async({caipNetworkId:a,address:b})=>o.api.post({path:`/v1?chainId=${a}&projectId=${h.OptionsController.state.projectId}`,body:{id:"1",jsonrpc:"2.0",method:"getAddressBalance",params:{address:b}}}).then(a=>a.result),async fetchTokenPrice({addresses:a,caipNetworkId:b=g.ChainController.state.activeCaipNetwork?.caipNetworkId}){if(!await p.isNetworkSupported(b))return{fungibles:[]};let c=f.StorageUtil.getTokenPriceCacheForAddresses(a);if(c)return c;let d=await o.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:a,projectId:h.OptionsController.state.projectId},headers:{"Content-Type":"application/json"}});return f.StorageUtil.updateTokenPriceCache({addresses:a,timestamp:Date.now(),tokenPrice:d}),d},fetchSwapAllowance:async({tokenAddress:a,userAddress:b})=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?p.get({path:"/v1/convert/allowance",params:{tokenAddress:a,userAddress:b},headers:{"Content-Type":"application/json"}}):{allowance:"0"},async fetchGasPrice({chainId:a}){let{st:b,sv:c}=p.getSdkProperties();if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Gas Price");return p.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:a,st:b,sv:c}})},async generateSwapCalldata({amount:a,from:b,to:d,userAddress:e,disableEstimate:f}){if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Swaps");return o.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:a,eip155:{slippage:c.ConstantsUtil.CONVERT_SLIPPAGE_TOLERANCE},projectId:h.OptionsController.state.projectId,from:b,to:d,userAddress:e,disableEstimate:f}})},async generateApproveCalldata({from:a,to:b,userAddress:c}){let{st:d,sv:e}=p.getSdkProperties();if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Swaps");return p.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:c,from:a,to:b,st:d,sv:e}})},async getBalance(a,b,c){let{st:d,sv:e}=p.getSdkProperties();if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return l.showError("Token Balance Unavailable"),{balances:[]};let h=`${b}:${a}`,i=f.StorageUtil.getBalanceCacheForCaipAddress(h);if(i)return i;let j=await p.get({path:`/v1/account/${a}/balance`,params:{currency:"usd",chainId:b,forceUpdate:c,st:d,sv:e}});return f.StorageUtil.updateBalanceCache({caipAddress:h,balance:j,timestamp:Date.now()}),j},lookupEnsName:async a=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?p.get({path:`/v1/profile/account/${a}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]},async reverseLookupEnsName({address:a}){if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return[];let b=g.ChainController.getAccountData()?.address;return p.get({path:`/v1/profile/reverse/${a}`,params:{sender:b,apiVersion:"2"}})},getEnsNameSuggestions:async a=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?p.get({path:`/v1/profile/suggestions/${a}`,params:{zone:"reown.id"}}):{suggestions:[]},registerEnsName:async({coinType:a,address:b,message:c,signature:d})=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?o.api.post({path:"/v1/profile/account",body:{coin_type:a,address:b,message:c,signature:d},headers:{"Content-Type":"application/json"}}):{success:!1},generateOnRampURL:async({destinationWallets:a,partnerUserId:b,defaultNetwork:c,purchaseAmount:d,paymentAmount:e})=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?(await o.api.post({path:"/v1/generators/onrampurl",params:{projectId:h.OptionsController.state.projectId},body:{destinationWallets:a,defaultNetwork:c,partnerUserId:b,defaultExperience:"buy",presetCryptoAmount:d,presetFiatAmount:e}})).url:"",async getOnrampOptions(){if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await p.get({path:"/v1/onramp/options"})}catch(a){return m}},async getOnrampQuote({purchaseCurrency:a,paymentCurrency:b,amount:c,network:d}){try{if(!await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return null;return await o.api.post({path:"/v1/onramp/quote",params:{projectId:h.OptionsController.state.projectId},body:{purchaseCurrency:a,paymentCurrency:b,amount:c,network:d}})}catch(a){return{networkFee:{amount:c,currency:b.id},paymentSubtotal:{amount:c,currency:b.id},paymentTotal:{amount:c,currency:b.id},purchaseAmount:{amount:c,currency:b.id},quoteId:"mocked-quote-id"}}},getSmartSessions:async a=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?p.get({path:`/v1/sessions/${a}`}):[],revokeSmartSession:async(a,b,c)=>await p.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?o.api.post({path:`/v1/sessions/${a}/revoke`,params:{projectId:h.OptionsController.state.projectId},body:{pci:b,signature:c}}):{success:!1},setClientId(a){o.clientId=a,o.api=new e.FetchUtil({baseUrl:n,clientId:a})}}},435044,a=>{"use strict";a.s(["getActiveCaipNetwork",()=>g,"getActiveNetworkTokenAddress",()=>d,"getNativeTokenAddress",()=>e,"getPreferredAccountType",()=>f]);var b=a.i(602383),c=a.i(977601);function d(){let a=b.ChainController.state.activeCaipNetwork?.chainNamespace||"eip155",d=b.ChainController.state.activeCaipNetwork?.id||1,e=c.ConstantsUtil.NATIVE_TOKEN_ADDRESS[a];return`${a}:${d}:${e}`}function e(a){return c.ConstantsUtil.NATIVE_TOKEN_ADDRESS[a]}function f(a){return b.ChainController.getAccountData(a)?.preferredAccountType}function g(a){return a?b.ChainController.state.chains.get(a)?.networkState?.caipNetwork:b.ChainController.state.activeCaipNetwork}},102639,a=>{"use strict";a.s(["HelpersUtil",0,{isLowerCaseMatch:(a,b)=>a?.toLowerCase()===b?.toLowerCase()}])},239325,524760,a=>{"use strict";a.s(["ConnectorUtil",()=>n],239325);var b=a.i(883148),c=a.i(102639),d=a.i(321590),e=a.i(602383),f=a.i(346280),g=a.i(109450),h=a.i(94702),i=a.i(135323),j=a.i(831218),k=a.i(82228);a.s(["WalletUtil",()=>m],524760);var l=a.i(977601);let m={filterOutDuplicatesByRDNS(a){let b=h.OptionsController.state.enableEIP6963?g.ConnectorController.state.connectors:[],c=k.StorageUtil.getRecentWallets(),d=b.map(a=>a.info?.rdns).filter(Boolean),e=c.map(a=>a.rdns).filter(Boolean),f=d.concat(e);if(f.includes("io.metamask.mobile")&&i.CoreHelperUtil.isMobile()){let a=f.indexOf("io.metamask.mobile");f[a]="io.metamask"}return a.filter(a=>!(a?.rdns&&f.includes(String(a.rdns))||!a?.rdns&&b.some(b=>b.name===a.name))&&!0)},filterOutDuplicatesByIds(a){let b=g.ConnectorController.state.connectors.filter(a=>"ANNOUNCED"===a.type||"INJECTED"===a.type||"MULTI_CHAIN"===a.type),c=k.StorageUtil.getRecentWallets(),d=b.map(a=>a.explorerId||a.explorerWallet?.id||a.id),e=c.map(a=>a.id),f=d.concat(e);return a.filter(a=>!f.includes(a?.id))},filterOutDuplicateWallets(a){let b=this.filterOutDuplicatesByRDNS(a);return this.filterOutDuplicatesByIds(b)},markWalletsAsInstalled(a){let{connectors:b}=g.ConnectorController.state,{featuredWalletIds:c}=h.OptionsController.state,d=b.filter(a=>"ANNOUNCED"===a.type).reduce((a,b)=>(b.info?.rdns&&(a[b.info.rdns]=!0),a),{});return a.map(a=>({...a,installed:!!a.rdns&&!!d[a.rdns??""]})).sort((a,b)=>{let d=Number(b.installed)-Number(a.installed);if(0!==d)return d;if(c?.length){let d=c.indexOf(a.id),e=c.indexOf(b.id);if(-1!==d&&-1!==e)return d-e;if(-1!==d)return -1;if(-1!==e)return 1}return 0})},getConnectOrderMethod(a,b){let c=a?.connectMethodsOrder||h.OptionsController.state.features?.connectMethodsOrder,e=b||g.ConnectorController.state.connectors;if(c)return c;let{injected:f,announced:i}=n.getConnectorsByType(e,d.ApiController.state.recommended,d.ApiController.state.featured),j=f.filter(n.showConnector),k=i.filter(n.showConnector);return j.length||k.length?["wallet","email","social"]:l.ConstantsUtil.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(a){let b=!!a.rdns&&d.ApiController.state.excludedWallets.some(b=>b.rdns===a.rdns),e=!!a.name&&d.ApiController.state.excludedWallets.some(b=>c.HelpersUtil.isLowerCaseMatch(b.name,a.name));return b||e},markWalletsWithDisplayIndex:a=>a.map((a,b)=>({...a,display_index:b})),filterWalletsByWcSupport:a=>f.ConnectionController.state.wcBasic?a.filter(a=>a.supports_wc):i.CoreHelperUtil.isMobile()?a.filter(a=>a.supports_wc||l.ConstantsUtil.MANDATORY_WALLET_IDS_ON_MOBILE.includes(a.id)):a,getWalletConnectWallets(a){let b=[...d.ApiController.state.featured,...d.ApiController.state.recommended];d.ApiController.state.filteredWallets?.length>0?b.push(...d.ApiController.state.filteredWallets):b.push(...a);let c=i.CoreHelperUtil.uniqueBy(b,"id"),e=m.markWalletsAsInstalled(c),f=m.filterWalletsByWcSupport(e);return m.markWalletsWithDisplayIndex(f)}},n={getConnectorsByType(a,b,c){let{customWallets:d}=h.OptionsController.state,e=k.StorageUtil.getRecentWallets(),f=m.filterOutDuplicateWallets(b),g=m.filterOutDuplicateWallets(c),i=a.filter(a=>"MULTI_CHAIN"===a.type),j=a.filter(a=>"ANNOUNCED"===a.type),l=a.filter(a=>"INJECTED"===a.type);return{custom:d,recent:e,external:a.filter(a=>"EXTERNAL"===a.type),multiChain:i,announced:j,injected:l,recommended:f,featured:g}},showConnector(a){let b=a.info?.rdns,e=!!b&&d.ApiController.state.excludedWallets.some(a=>!!a.rdns&&a.rdns===b),g=!!a.name&&d.ApiController.state.excludedWallets.some(b=>c.HelpersUtil.isLowerCaseMatch(b.name,a.name));if("INJECTED"===a.type&&("Browser Wallet"===a.name&&(!i.CoreHelperUtil.isMobile()||i.CoreHelperUtil.isMobile()&&!b&&!f.ConnectionController.checkInstalled())||e||g))return!1;return"ANNOUNCED"!==a.type&&"EXTERNAL"!==a.type||!e&&!g},getIsConnectedWithWC:()=>Array.from(e.ChainController.state.chains.values()).some(a=>g.ConnectorController.getConnectorId(a.namespace)===b.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT),getConnectorTypeOrder({recommended:a,featured:b,custom:c,recent:d,announced:e,injected:f,multiChain:g,external:i,overriddenConnectors:j=h.OptionsController.state.features?.connectorTypeOrder??[]}){let k=[{type:"walletConnect",isEnabled:!0},{type:"recent",isEnabled:d.length>0},{type:"injected",isEnabled:[...f,...e,...g].length>0},{type:"featured",isEnabled:b.length>0},{type:"custom",isEnabled:c&&c.length>0},{type:"external",isEnabled:i.length>0},{type:"recommended",isEnabled:a.length>0}].filter(a=>a.isEnabled),l=new Set(k.map(a=>a.type)),m=j.filter(a=>l.has(a)).map(a=>({type:a,isEnabled:!0})),n=k.filter(({type:a})=>!m.some(({type:b})=>b===a));return Array.from(new Set([...m,...n].map(({type:a})=>a)))},sortConnectorsByExplorerWallet:a=>[...a].sort((a,b)=>a.explorerWallet&&b.explorerWallet?(a.explorerWallet.order??0)-(b.explorerWallet.order??0):a.explorerWallet?-1:+!!b.explorerWallet),getPriority:a=>a.id===b.ConstantsUtil.CONNECTOR_ID.BASE_ACCOUNT?0:a.id===b.ConstantsUtil.CONNECTOR_ID.COINBASE||a.id===b.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK?1:2,sortConnectorsByPriority:a=>[...a].sort((a,b)=>n.getPriority(a)-n.getPriority(b)),getAuthName:({email:a,socialUsername:b,socialProvider:c})=>b?c&&"discord"===c&&b.endsWith("0")?b.slice(0,-1):b:a.length>30?`${a.slice(0,-3)}...`:a,async fetchProviderData(a){try{if("Browser Wallet"===a.name&&!i.CoreHelperUtil.isMobile()||a.id===b.ConstantsUtil.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};let[c,d]=await Promise.all([a.provider?.request({method:"eth_accounts"}),a.provider?.request({method:"eth_chainId"}).then(a=>Number(a))]);return{accounts:c,chainId:d}}catch(b){return console.warn(`Failed to fetch provider data for ${a.name}`,b),{accounts:[],chainId:void 0}}},getFilteredCustomWallets(a){let b=k.StorageUtil.getRecentWallets(),c=g.ConnectorController.state.connectors.map(a=>a.info?.rdns).filter(Boolean),d=b.map(a=>a.rdns).filter(Boolean),e=c.concat(d);if(e.includes("io.metamask.mobile")&&i.CoreHelperUtil.isMobile()){let a=e.indexOf("io.metamask.mobile");e[a]="io.metamask"}return a.filter(a=>!e.includes(String(a?.rdns)))},hasWalletConnector:a=>g.ConnectorController.state.connectors.some(b=>b.id===a.id||b.name===a.name),isWalletCompatibleWithCurrentChain(a){let b=e.ChainController.state.activeChain;return!b||!a.chains||a.chains.some(a=>b===a.split(":")[0])},getFilteredRecentWallets(){return k.StorageUtil.getRecentWallets().filter(a=>!m.isExcluded(a)).filter(a=>!this.hasWalletConnector(a)).filter(a=>this.isWalletCompatibleWithCurrentChain(a))},getCappedRecommendedWallets(a){let{connectors:b}=g.ConnectorController.state,{customWallets:c,featuredWalletIds:d}=h.OptionsController.state,e=b.find(a=>"walletConnect"===a.id),f=b.filter(a=>"INJECTED"===a.type||"ANNOUNCED"===a.type||"MULTI_CHAIN"===a.type);if(!e&&!f.length&&!c?.length)return[];let i=j.OptionsUtil.isEmailEnabled(),k=j.OptionsUtil.isSocialsEnabled(),l=f.filter(a=>"Browser Wallet"!==a.name&&"WalletConnect"!==a.name),n=Math.max(0,4-((d?.length||0)+(c?.length||0)+(l.length||0)+ +!!i+ +!!k));return n<=0?[]:m.filterOutDuplicateWallets(a).slice(0,n)},processConnectorsByType(a,b=!0){let c=n.sortConnectorsByExplorerWallet([...a]);return b?c.filter(n.showConnector):c},connectorList(){let a=n.getConnectorsByType(g.ConnectorController.state.connectors,d.ApiController.state.recommended,d.ApiController.state.featured),c=this.processConnectorsByType(a.announced.filter(a=>"walletConnect"!==a.id)),e=this.processConnectorsByType(a.injected),f=this.processConnectorsByType(a.multiChain.filter(a=>"WalletConnect"!==a.name),!1),h=a.custom,j=a.recent,k=this.processConnectorsByType(a.external.filter(a=>a.id!==b.ConstantsUtil.CONNECTOR_ID.COINBASE_SDK&&a.id!==b.ConstantsUtil.CONNECTOR_ID.BASE_ACCOUNT)),l=a.recommended,m=a.featured,o=n.getConnectorTypeOrder({custom:h,recent:j,announced:c,injected:e,multiChain:f,recommended:l,featured:m,external:k}),p=g.ConnectorController.state.connectors.find(a=>"walletConnect"===a.id),q=i.CoreHelperUtil.isMobile(),r=[];for(let a of o)switch(a){case"walletConnect":!q&&p&&r.push({kind:"connector",subtype:"walletConnect",connector:p});break;case"recent":n.getFilteredRecentWallets().forEach(a=>r.push({kind:"wallet",subtype:"recent",wallet:a}));break;case"injected":f.forEach(a=>r.push({kind:"connector",subtype:"multiChain",connector:a})),c.forEach(a=>r.push({kind:"connector",subtype:"announced",connector:a})),e.forEach(a=>r.push({kind:"connector",subtype:"injected",connector:a}));break;case"featured":m.forEach(a=>r.push({kind:"wallet",subtype:"featured",wallet:a}));break;case"custom":n.getFilteredCustomWallets(h??[]).forEach(a=>r.push({kind:"wallet",subtype:"custom",wallet:a}));break;case"external":k.forEach(a=>r.push({kind:"connector",subtype:"external",connector:a}));break;case"recommended":n.getCappedRecommendedWallets(l).forEach(a=>r.push({kind:"wallet",subtype:"recommended",wallet:a}));break;default:console.warn(`Unknown connector type: ${a}`)}return r},hasInjectedConnectors:()=>g.ConnectorController.state.connectors.filter(a=>("INJECTED"===a.type||"ANNOUNCED"===a.type||"MULTI_CHAIN"===a.type)&&"Browser Wallet"!==a.name&&"WalletConnect"!==a.name).length}},667625,a=>{"use strict";a.s(["RouterController",()=>l]);var b=a.i(252271),c=a.i(129286),d=a.i(929581),e=a.i(321590),f=a.i(602383),g=a.i(109450),h=a.i(786183),i=a.i(94702);let j=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],k=(0,b.proxy)({view:"Connect",history:["Connect"],transactionStack:[]}),l=(0,d.withErrorBoundary)({state:k,subscribeKey:(a,b)=>(0,c.subscribeKey)(k,a,b),pushTransactionStack(a){k.transactionStack.push(a)},popTransactionStack(a){let b=k.transactionStack.pop();if(!b)return;let{onSuccess:c,onError:d,onCancel:e}=b;switch(a){case"success":c?.();break;case"error":d?.(),l.goBack();break;case"cancel":e?.(),l.goBack()}},push(a,b){let c=a,d=b;e.ApiController.state.plan.hasExceededUsageLimit&&j.includes(a)&&(c="UsageExceeded",d=void 0),c!==k.view&&(k.view=c,k.history.push(c),k.data=d)},reset(a,b){k.view=a,k.history=[a],k.data=b},replace(a,b){k.history.at(-1)!==a&&(k.view=a,k.history[k.history.length-1]=a,k.data=b)},goBack(){let a=f.ChainController.state.activeCaipAddress,c="ConnectingFarcaster"===l.state.view,d=!a&&c;if(k.history.length>1){k.history.pop();let[b]=k.history.slice(-1);b&&(a&&"Connect"===b?k.view="Account":k.view=b)}else h.ModalController.close();k.data?.wallet&&(k.data.wallet=void 0),k.data?.redirectView&&(k.data.redirectView=void 0),setTimeout(()=>{if(d){f.ChainController.setAccountProp("farcasterUrl",void 0,f.ChainController.state.activeChain);let a=g.ConnectorController.getAuthConnector();a?.provider?.reload();let c=(0,b.snapshot)(i.OptionsController.state);a?.provider?.syncDappData?.({metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(a){if(k.history.length>1){k.history=k.history.slice(0,a+1);let[b]=k.history.slice(-1);b&&(k.view=b)}},goBackOrCloseModal(){l.state.history.length>1?l.goBack():h.ModalController.close()}})},262275,a=>{"use strict";a.s(["NetworkUtil",()=>f]);var b=a.i(883148),c=a.i(602383),d=a.i(109450),e=a.i(667625);let f={onSwitchNetwork({network:a,ignoreSwitchConfirmation:f=!1}){let g=c.ChainController.state.activeCaipNetwork,h=c.ChainController.state.activeChain,i=e.RouterController.state.data;if(a.id===g?.id)return;let j=!!c.ChainController.getAccountData(h)?.address,k=!!c.ChainController.getAccountData(a.chainNamespace)?.address,l=a.chainNamespace!==h,m=d.ConnectorController.getConnectorId(h)===b.ConstantsUtil.CONNECTOR_ID.AUTH,n=b.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(b=>b===a.chainNamespace);f||m&&n?e.RouterController.push("SwitchNetwork",{...i,network:a}):j&&l&&!k?e.RouterController.push("SwitchActiveChain",{switchToChain:a.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:a}):e.RouterController.push("SwitchNetwork",{...i,network:a})}}},242528,a=>{"use strict";a.s(["EventsController",()=>k]);var b=a.i(252271),c=a.i(135323),d=a.i(939546),e=a.i(602383),f=a.i(94702);let g=c.CoreHelperUtil.getAnalyticsUrl(),h=new d.FetchUtil({baseUrl:g,clientId:null}),i=["MODAL_CREATED"],j=(0,b.proxy)({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),k={state:j,subscribe:a=>(0,b.subscribe)(j,()=>a(j)),getSdkProperties(){let{projectId:a,sdkType:b,sdkVersion:c}=f.OptionsController.state;return{projectId:a,st:b,sv:c||"html-wagmi-4.2.2"}},shouldFlushEvents(){let a=JSON.stringify(j.pendingEvents).length/1024>45,b=j.lastFlush+1e4<Date.now();return a||b},_setPendingEvent(a){try{e.ChainController.getAccountData()?.address,"address"in a.data&&a.data.address&&a.data.address,i.includes(a.data.event);return}catch(a){console.warn("_setPendingEvent",a)}},sendEvent(a){j.timestamp=Date.now(),j.data=a,(f.OptionsController.state.features?.analytics||["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"].includes(a.event))&&k._setPendingEvent(j),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(a){j.walletImpressions.push(a)},_transformPendingEventsForBatch(a){try{return a.filter(a=>{let b=a.props.event;return"WALLET_IMPRESSION_V2"!==b})}catch{return a}},_submitPendingEvents(){if(j.lastFlush=Date.now(),0!==j.pendingEvents.length||0!==j.walletImpressions.length)try{let a=k._transformPendingEventsForBatch(j.pendingEvents);j.walletImpressions.length&&a.push({eventId:c.CoreHelperUtil.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...j.walletImpressions]}}),h.sendBeacon({path:"/batch",params:k.getSdkProperties(),body:a}),j.reportedErrors.FORBIDDEN=!1,j.pendingEvents=[],j.walletImpressions=[]}catch(a){j.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){j.subscribedToVisibilityChange||"u">typeof document&&(j.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{"hidden"===document.visibilityState&&k._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{k._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{k._submitPendingEvents()}),setInterval(()=>{k._submitPendingEvents()},1e4))}}},284799,a=>{"use strict";var b=a.i(252271),c=a.i(129286);let d=(0,b.proxy)({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1,connectingWallet:void 0});a.s(["PublicStateController",0,{state:d,subscribe:a=>(0,b.subscribe)(d,()=>a(d)),subscribeOpen:a=>(0,c.subscribeKey)(d,"open",a),set(a){Object.assign(d,{...d,...a})}}])},786183,a=>{"use strict";a.s(["ModalController",()=>p]);var b=a.i(252271),c=a.i(129286),d=a.i(135323),e=a.i(262275),f=a.i(929581),g=a.i(321590),h=a.i(602383),i=a.i(346280),j=a.i(109450),k=a.i(242528),l=a.i(94702),m=a.i(284799),n=a.i(667625);let o=(0,b.proxy)({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),p=(0,f.withErrorBoundary)({state:o,subscribe:a=>(0,b.subscribe)(o,()=>a(o)),subscribeKey:(a,b)=>(0,c.subscribeKey)(o,a,b),async open(a){let b=a?.namespace,c=h.ChainController.state.activeChain,f=b&&b!==c,q=h.ChainController.getAccountData(a?.namespace)?.caipAddress,r=h.ChainController.state.noAdapters;if(i.ConnectionController.state.wcBasic?g.ApiController.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await g.ApiController.prefetch(),j.ConnectorController.setFilterByNamespace(a?.namespace),p.setLoading(!0,b),b&&f){let a=h.ChainController.getNetworkData(b)?.caipNetwork||h.ChainController.getRequestedCaipNetworks(b)[0];a&&(r?(await h.ChainController.switchActiveNetwork(a),n.RouterController.push("ConnectingWalletConnectBasic")):e.NetworkUtil.onSwitchNetwork({network:a,ignoreSwitchConfirmation:!0}))}else l.OptionsController.state.manualWCControl||r&&!q?d.CoreHelperUtil.isMobile()?n.RouterController.reset("AllWallets"):n.RouterController.reset("ConnectingWalletConnectBasic"):a?.view?n.RouterController.reset(a.view,a.data):q?n.RouterController.reset("Account"):n.RouterController.reset("Connect");o.open=!0,m.PublicStateController.set({open:!0}),k.EventsController.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!q}})},close(){let a=l.OptionsController.state.enableEmbedded,b=!!h.ChainController.state.activeCaipAddress;o.open&&k.EventsController.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:b}}),o.open=!1,n.RouterController.reset("Connect"),p.clearLoading(),a?b?n.RouterController.replace("Account"):n.RouterController.push("Connect"):m.PublicStateController.set({open:!1}),i.ConnectionController.resetUri()},setLoading(a,b){b&&o.loadingNamespaceMap.set(b,a),o.loading=a,m.PublicStateController.set({loading:a})},clearLoading(){o.loadingNamespaceMap.clear(),o.loading=!1,m.PublicStateController.set({loading:!1})},shake(){o.shake||(o.shake=!0,setTimeout(()=>{o.shake=!1},500))}})},109450,371188,a=>{"use strict";a.s(["ConnectorController",()=>x],109450);var b=a.i(252271),c=a.i(129286),d=a.i(447649),e=a.i(883148),f=a.i(436868),g=a.i(83965),h=a.i(435044),i=a.i(239325),j=a.i(43161),k=a.i(82228),l=a.i(929581),m=a.i(321590),n=a.i(602383),o=a.i(786183),p=a.i(94702),q=a.i(667625);a.s(["ThemeController",()=>t],371188);let r=(0,b.proxy)({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),s={state:r,subscribe:a=>(0,b.subscribe)(r,()=>a(r)),setThemeMode(a){r.themeMode=a;try{let b=x.getAuthConnector();if(b){let c=s.getSnapshot().themeVariables;b.provider.syncTheme({themeMode:a,themeVariables:c,w3mThemeVariables:(0,f.getW3mThemeVariables)(c,a)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(a){r.themeVariables={...r.themeVariables,...a};try{let a=x.getAuthConnector();if(a){let b=s.getSnapshot().themeVariables;a.provider.syncTheme({themeVariables:b,w3mThemeVariables:(0,f.getW3mThemeVariables)(r.themeVariables,r.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot:()=>(0,b.snapshot)(r)},t=(0,l.withErrorBoundary)(s),u=Object.fromEntries(d.AVAILABLE_NAMESPACES.map(a=>[a,void 0])),v=Object.fromEntries(d.AVAILABLE_NAMESPACES.map(a=>[a,!0])),w=(0,b.proxy)({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:u,filterByNamespaceMap:v}),x=(0,l.withErrorBoundary)({state:w,subscribe:a=>(0,b.subscribe)(w,()=>{a(w)}),subscribeKey:(a,b)=>(0,c.subscribeKey)(w,a,b),initialize(a){a.forEach(a=>{let b=k.StorageUtil.getConnectedConnectorId(a);b&&x.setConnectorId(b,a)})},setActiveConnector(a){a&&(w.activeConnector=(0,b.ref)(a))},setConnectors(a){a.filter(a=>!w.allConnectors.some(b=>b.id===a.id&&x.getConnectorName(b.name)===x.getConnectorName(a.name)&&b.chain===a.chain)).forEach(a=>{"MULTI_CHAIN"!==a.type&&w.allConnectors.push((0,b.ref)(a))});let c=x.getEnabledNamespaces(),d=x.getEnabledConnectors(c);w.connectors=x.mergeMultiChainConnectors(d)},filterByNamespaces(a){Object.keys(w.filterByNamespaceMap).forEach(a=>{w.filterByNamespaceMap[a]=!1}),a.forEach(a=>{w.filterByNamespaceMap[a]=!0}),x.updateConnectorsForEnabledNamespaces()},filterByNamespace(a,b){w.filterByNamespaceMap[a]=b,x.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){let a=x.getEnabledNamespaces(),b=x.getEnabledConnectors(a),c=x.areAllNamespacesEnabled();w.connectors=x.mergeMultiChainConnectors(b),c?m.ApiController.clearFilterByNamespaces():m.ApiController.filterByNamespaces(a)},getEnabledNamespaces:()=>Object.entries(w.filterByNamespaceMap).filter(([a,b])=>b).map(([a])=>a),getEnabledConnectors:a=>w.allConnectors.filter(b=>a.includes(b.chain)),areAllNamespacesEnabled:()=>Object.values(w.filterByNamespaceMap).every(a=>a),mergeMultiChainConnectors(a){let b=x.generateConnectorMapByName(a),c=[];return b.forEach(a=>{let b=a[0],d=b?.id===e.ConstantsUtil.CONNECTOR_ID.AUTH;a.length>1&&b?c.push({name:b.name,imageUrl:b.imageUrl,imageId:b.imageId,connectors:[...a],type:d?"AUTH":"MULTI_CHAIN",chain:"eip155",id:b?.id||""}):b&&c.push(b)}),c},generateConnectorMapByName(a){let b=new Map;return a.forEach(a=>{let{name:c}=a,d=x.getConnectorName(c);if(!d)return;let e=b.get(d)||[];e.find(b=>b.chain===a.chain)||e.push(a),b.set(d,e)}),b},getConnectorName:a=>a&&({"Trust Wallet":"Trust"})[a]||a,getUniqueConnectorsByName(a){let b=[];return a.forEach(a=>{b.find(b=>b.chain===a.chain)||b.push(a)}),b},addConnector(a){if(a.id===e.ConstantsUtil.CONNECTOR_ID.AUTH){let c=(0,b.snapshot)(p.OptionsController.state),d=t.getSnapshot().themeMode,e=t.getSnapshot().themeVariables;a?.provider?.syncDappData?.({metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType}),a?.provider?.syncTheme({themeMode:d,themeVariables:e,w3mThemeVariables:(0,f.getW3mThemeVariables)(e,d)}),x.setConnectors([a])}else x.setConnectors([a])},getAuthConnector(a){let b=a||n.ChainController.state.activeChain,c=w.connectors.find(a=>a.id===e.ConstantsUtil.CONNECTOR_ID.AUTH);if(c)return c?.connectors?.length?c.connectors.find(a=>a.chain===b):c},getAnnouncedConnectorRdns:()=>w.connectors.filter(a=>"ANNOUNCED"===a.type).map(a=>a.info?.rdns),getConnectorById:a=>i.ConnectorUtil.sortConnectorsByPriority(w.allConnectors).find(b=>b.id===a),getConnector({id:a,namespace:b}){let c=b||n.ChainController.state.activeChain,d=w.allConnectors.filter(a=>a.chain===c);return i.ConnectorUtil.sortConnectorsByPriority(d).find(b=>b.id===a||b.explorerId===a)},syncIfAuthConnector(a){if("AUTH"!==a.id)return;let c=(0,b.snapshot)(p.OptionsController.state),d=t.getSnapshot().themeMode,e=t.getSnapshot().themeVariables;a?.provider?.syncDappData?.({metadata:c.metadata,sdkVersion:c.sdkVersion,sdkType:c.sdkType,projectId:c.projectId}),a.provider.syncTheme({themeMode:d,themeVariables:e,w3mThemeVariables:(0,f.getW3mThemeVariables)(e,d)})},getConnectorsByNamespace(a){let b=w.allConnectors.filter(b=>b.chain===a);return x.mergeMultiChainConnectors(b)},canSwitchToSmartAccount:a=>n.ChainController.checkIfSmartAccountEnabled()&&(0,h.getPreferredAccountType)(a)===g.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA,selectWalletConnector(a){let b=q.RouterController.state.data?.redirectView,c=n.ChainController.state.activeChain,d=c?x.getConnector({id:a.id,namespace:c}):void 0;j.MobileWalletUtil.handleMobileDeeplinkRedirect(d?.explorerId||a.id,n.ChainController.state.activeChain),d?q.RouterController.push("ConnectingExternal",{connector:d,wallet:a,redirectView:b}):q.RouterController.push("ConnectingWalletConnect",{wallet:a,redirectView:b})},getConnectors:a=>a?x.getConnectorsByNamespace(a):x.mergeMultiChainConnectors(w.allConnectors),setFilterByNamespace(a){w.filterByNamespace=a,w.connectors=x.getConnectors(a),m.ApiController.setFilterByNamespace(a)},setConnectorId(a,b){a&&(w.activeConnectorIds={...w.activeConnectorIds,[b]:a},k.StorageUtil.setConnectedConnectorId(b,a))},removeConnectorId(a){w.activeConnectorIds={...w.activeConnectorIds,[a]:void 0},k.StorageUtil.deleteConnectedConnectorId(a)},getConnectorId(a){if(a)return w.activeConnectorIds[a]},isConnected:a=>a?!!w.activeConnectorIds[a]:Object.values(w.activeConnectorIds).some(a=>!!a),resetConnectorIds(){w.activeConnectorIds={...u}},extendConnectorsWithExplorerWallets(a){w.allConnectors.forEach(b=>{let c=a.find(a=>a.id===b.id||a.rdns&&a.rdns===b.info?.rdns);c&&(b.explorerWallet=c)});let b=x.getEnabledNamespaces(),c=x.getEnabledConnectors(b);w.connectors=x.mergeMultiChainConnectors(c)},async connect(a={}){let{namespace:b}=a;return x.setFilterByNamespace(b),q.RouterController.push("Connect",{addWalletForNamespace:b}),new Promise((a,c)=>{if(b){let d=n.ChainController.subscribeChainProp("accountState",b=>{b?.caipAddress&&(a({caipAddress:b?.caipAddress}),d())},b),e=o.ModalController.subscribeKey("open",a=>{a||(c(Error("Modal closed")),e())})}else{let b=n.ChainController.subscribeKey("activeCaipAddress",c=>{c&&(a({caipAddress:c}),b())}),d=o.ModalController.subscribeKey("open",a=>{a||(c(Error("Modal closed")),d())})}})}})},353292,a=>{"use strict";a.s(["ConnectionControllerUtil",()=>g]);var b=a.i(346280),c=a.i(109450),d=a.i(242528),e=a.i(94702),f=a.i(135323);let g={getConnectionStatus(a,d){let e=c.ConnectorController.state.activeConnectorIds[d],f=b.ConnectionController.getConnections(d);return e&&a.connectorId===e?"connected":f.some(b=>b.connectorId.toLowerCase()===a.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections:({connections:a,connectorId:b,addresses:c})=>a.map(a=>{if(b&&a.connectorId.toLowerCase()===b.toLowerCase()&&c){let b=a.accounts.filter(a=>!c.some(b=>b.toLowerCase()===a.address.toLowerCase()));return{...a,accounts:b}}return a}),excludeExistingConnections(a,b){let c=new Set(a);return b.filter(a=>!c.has(a.connectorId))},getConnectionsByConnectorId:(a,b)=>a.filter(a=>a.connectorId.toLowerCase()===b.toLowerCase()),getConnectionsData(a){let d=!!e.OptionsController.state.remoteFeatures?.multiWallet,f=c.ConnectorController.state.activeConnectorIds[a],h=b.ConnectionController.getConnections(a),i=(b.ConnectionController.state.recentConnections.get(a)??[]).filter(a=>c.ConnectorController.getConnectorById(a.connectorId)),j=g.excludeExistingConnections([...h.map(a=>a.connectorId),...f?[f]:[]],i);return d?{connections:h,recentConnections:j}:{connections:h.filter(a=>a.connectorId.toLowerCase()===f?.toLowerCase()),recentConnections:[]}},onConnectMobile(a,c){let g=b.ConnectionController.state.wcUri;if(a?.mobile_link&&g)try{b.ConnectionController.setWcError(!1);let{mobile_link:d,link_mode:h,name:i}=a,j=f.CoreHelperUtil.appendPayToUri(g,c),{redirect:k,redirectUniversalLink:l,href:m}=f.CoreHelperUtil.formatNativeUrl(d,j,h),n=f.CoreHelperUtil.isIframe()?"_top":"_self";b.ConnectionController.setWcLinking({name:i,href:m}),b.ConnectionController.setRecentWallet(a),e.OptionsController.state.experimental_preferUniversalLinks&&l?f.CoreHelperUtil.openHref(l,n):f.CoreHelperUtil.openHref(k,n)}catch(c){d.EventsController.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:c instanceof Error?c.message:"Error parsing the deep link",uri:g,mobile_link:a.mobile_link,name:a.name}}),b.ConnectionController.setWcError(!0)}}}},32011,a=>{"use strict";a.s(["ConnectorControllerUtil",()=>o]);var b=a.i(922848),c=a.i(883148),d=a.i(83965),e=a.i(602383),f=a.i(346280),g=a.i(109450),h=a.i(242528),i=a.i(786183),j=a.i(667625),k=a.i(435044),l=a.i(977601),m=a.i(135323),n=a.i(82228);let o={checkNamespaceConnectorId:(a,b)=>g.ConnectorController.getConnectorId(a)===b,isSocialProvider:a=>l.ConstantsUtil.DEFAULT_REMOTE_FEATURES.socials.includes(a),connectWalletConnect:({walletConnect:a,connector:c,closeModalOnConnect:d=!0,redirectViewOnModalClose:f="Connect",onOpen:h,onConnect:k})=>new Promise((l,n)=>{if(a&&g.ConnectorController.setActiveConnector(c),h?.(m.CoreHelperUtil.isMobile()&&a),f){let a=i.ModalController.subscribeKey("open",b=>{b||(j.RouterController.state.view!==f&&j.RouterController.replace(f),a(),n(Error("Modal closed")))})}let o=e.ChainController.subscribeKey("activeCaipAddress",a=>{a&&(k?.(),d&&i.ModalController.close(),o(),l(b.ParseUtil.parseCaipAddress(a)))})}),connectExternal:a=>new Promise((c,d)=>{let g=e.ChainController.subscribeKey("activeCaipAddress",a=>{a&&(i.ModalController.close(),g(),c(b.ParseUtil.parseCaipAddress(a)))});f.ConnectionController.connectExternal(a,a.chain).catch(()=>{g(),d(Error("Connection rejected"))})}),connectSocial({social:a,namespace:d,closeModalOnConnect:j=!0,onOpenFarcaster:k,onConnect:l}){let o,p=!1,q=null,r=d||e.ChainController.state.activeChain,s=e.ChainController.subscribeKey("activeCaipAddress",a=>{a&&(j&&i.ModalController.close(),s())});return new Promise((d,j)=>{async function s(i){if(i.data?.resultUri)if(i.origin===c.ConstantsUtil.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",s,!1);try{let c=g.ConnectorController.getAuthConnector(r);if(c&&!p){o&&o.close(),p=!0;let g=i.data.resultUri;h.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:a}}),n.StorageUtil.setConnectedSocialProvider(a),await f.ConnectionController.connectExternal({id:c.id,type:c.type,socialUri:g},c.chain);let k=e.ChainController.state.activeCaipAddress;if(!k)return void j(Error("Failed to connect"));d(b.ParseUtil.parseCaipAddress(k)),h.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:a}})}}catch(b){h.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:a,message:m.CoreHelperUtil.parseError(b)}}),j(Error("Failed to connect"))}}else h.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:a,message:"Untrusted Origin"}})}!async function(){if(h.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:a}}),"farcaster"===a){k?.();let b=i.ModalController.subscribeKey("open",c=>{c||"farcaster"!==a||(j(Error("Popup closed")),l?.(),b())}),c=g.ConnectorController.getAuthConnector();if(c){let a=e.ChainController.getAccountData(r);if(!a?.farcasterUrl)try{let{url:a}=await c.provider.getFarcasterUri();e.ChainController.setAccountProp("farcasterUrl",a,r)}catch{j(Error("Failed to connect to farcaster"))}}}else{let b=g.ConnectorController.getAuthConnector();q=m.CoreHelperUtil.returnOpenHref(`${c.ConstantsUtil.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(b){let{uri:c}=await b.provider.getSocialRedirectUri({provider:a});if(q&&c){q.location.href=c,o=q;let a=setInterval(()=>{o?.closed&&!p&&(j(Error("Popup closed")),clearInterval(a))},1e3);window.addEventListener("message",s,!1)}else q?.close(),j(Error("Failed to initiate social connection"))}}catch{j(Error("Failed to initiate social connection")),q?.close()}}}()})},connectEmail:({closeModalOnConnect:a=!0,redirectViewOnModalClose:c="Connect",onOpen:d,onConnect:f})=>new Promise((g,h)=>{if(d?.(),c){let a=i.ModalController.subscribeKey("open",b=>{b||(j.RouterController.state.view!==c&&j.RouterController.replace(c),a(),h(Error("Modal closed")))})}let k=e.ChainController.subscribeKey("activeCaipAddress",c=>{c&&(f?.(),a&&i.ModalController.close(),k(),g(b.ParseUtil.parseCaipAddress(c)))})}),async updateEmail(){let a=n.StorageUtil.getConnectedConnectorId(e.ChainController.state.activeChain),b=g.ConnectorController.getAuthConnector();if(!b)throw Error("No auth connector found");if(a!==c.ConstantsUtil.CONNECTOR_ID.AUTH)throw Error("Not connected to email or social");let d=b.provider.getEmail()??"";return await i.ModalController.open({view:"UpdateEmailWallet",data:{email:d,redirectView:void 0}}),new Promise((a,c)=>{let e=setInterval(()=>{let c=b.provider.getEmail()??"";c!==d&&(i.ModalController.close(),clearInterval(e),f(),a({email:c}))},1e3),f=i.ModalController.subscribeKey("open",a=>{a||("Connect"!==j.RouterController.state.view&&j.RouterController.push("Connect"),clearInterval(e),f(),c(Error("Modal closed")))})})},canSwitchToSmartAccount:a=>e.ChainController.checkIfSmartAccountEnabled()&&(0,k.getPreferredAccountType)(a)===d.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA}},862723,977352,346280,675529,890447,916451,a=>{"use strict";let b,c;a.s(["BalanceUtil",()=>G],862723);var d=a.i(115521),e=a.i(57407),f=a.i(883148),g=a.i(922848),h=a.i(473439),i=a.i(602383);a.s(["ConnectionController",()=>C],346280);var j=a.i(252271),k=a.i(129286),l=a.i(435044),m=a.i(353292),n=a.i(32011),o=a.i(135323),p=a.i(82228),q=a.i(929581),r=a.i(109450),s=a.i(242528),t=a.i(786183),u=a.i(284799),v=a.i(667625);a.s(["TransactionsController",()=>A],977352);var w=a.i(83965),x=a.i(94702),y=a.i(531657);let z=(0,j.proxy)({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),A=(0,q.withErrorBoundary)({state:z,subscribe:a=>(0,j.subscribe)(z,()=>a(z)),setLastNetworkInView(a){z.lastNetworkInView=a},async fetchTransactions(a){if(!a)throw Error("Transactions can't be fetched without an accountAddress");z.loading=!0;try{let b=await h.BlockchainApiController.fetchTransactions({account:a,cursor:z.next,chainId:i.ChainController.state.activeCaipNetwork?.caipNetworkId}),c=A.filterSpamTransactions(b.data),d=A.filterByConnectedChain(c),e=[...z.transactions,...d];z.loading=!1,z.transactions=e,z.transactionsByYear=A.groupTransactionsByYearAndMonth(z.transactionsByYear,d),z.empty=0===e.length,z.next=b.next?b.next:void 0}catch(c){let b=i.ChainController.state.activeChain;s.EventsController.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:a,projectId:x.OptionsController.state.projectId,cursor:z.next,isSmartAccount:(0,l.getPreferredAccountType)(b)===w.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}}),y.SnackController.showError("Failed to fetch transactions"),z.loading=!1,z.empty=!0,z.next=void 0}},groupTransactionsByYearAndMonth:(a={},b=[])=>(b.forEach(b=>{let c=new Date(b.metadata.minedAt).getFullYear(),d=new Date(b.metadata.minedAt).getMonth(),e=a[c]??{},f=(e[d]??[]).filter(a=>a.id!==b.id);a[c]={...e,[d]:[...f,b].sort((a,b)=>new Date(b.metadata.minedAt).getTime()-new Date(a.metadata.minedAt).getTime())}}),a),filterSpamTransactions:a=>a.filter(a=>!a.transfers?.every(a=>a.nft_info?.flags.is_spam===!0)),filterByConnectedChain(a){let b=i.ChainController.state.activeCaipNetwork?.caipNetworkId;return a.filter(a=>a.metadata.chain===b)},clearCursor(){z.next=void 0},resetTransactions(){z.transactions=[],z.transactionsByYear={},z.lastNetworkInView=void 0,z.loading=!1,z.empty=!1,z.next=void 0}},"API_ERROR"),B=(0,j.proxy)({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,wcFetchingUri:!1,buffering:!1,status:"disconnected"}),C=(0,q.withErrorBoundary)({state:B,subscribe:a=>(0,j.subscribe)(B,()=>a(B)),subscribeKey:(a,b)=>(0,k.subscribeKey)(B,a,b),_getClient:()=>B._client,setClient(a){B._client=(0,j.ref)(a)},initialize(a){let b=a.filter(a=>!!a.namespace).map(a=>a.namespace);C.syncStorageConnections(b)},syncStorageConnections(a){let b=p.StorageUtil.getConnections();for(let c of a??Array.from(i.ChainController.state.chains.keys())){let a=b[c]??[],d=new Map(B.recentConnections);d.set(c,a),B.recentConnections=d}},getConnections:a=>a?B.connections.get(a)??[]:[],hasAnyConnection:a=>Array.from(C.state.connections.values()).flatMap(a=>a).some(({connectorId:b})=>b===a),async connectWalletConnect({cache:a="auto"}={}){B.wcFetchingUri=!0;let c=o.CoreHelperUtil.isTelegram()||o.CoreHelperUtil.isSafari()&&o.CoreHelperUtil.isIos();if("always"===a||"auto"===a&&c){if(b){await b,b=void 0;return}if(!o.CoreHelperUtil.isPairingExpired(B?.wcPairingExpiry)){let a=B.wcUri;B.wcUri=a;return}b=C._getClient()?.connectWalletConnect?.().catch(()=>void 0),C.state.status="connecting",await b,b=void 0,B.wcPairingExpiry=void 0,C.state.status="connected"}else await C._getClient()?.connectWalletConnect?.()},async connectExternal(a,b,c=!0){let d=await C._getClient()?.connectExternal?.(a);c&&i.ChainController.setActiveNamespace(b);let e=r.ConnectorController.state.allConnectors.find(b=>b.id===a?.id),f="AUTH"===a.type?"email":"browser";return s.EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:f,name:e?.name||"Unknown",view:v.RouterController.state.view,walletRank:e?.explorerWallet?.order}}),d},async reconnectExternal(a){await C._getClient()?.reconnectExternal?.(a);let b=a.chain||i.ChainController.state.activeChain;b&&r.ConnectorController.setConnectorId(a.id,b)},async setPreferredAccountType(a,b){if(!b)return;t.ModalController.setLoading(!0,i.ChainController.state.activeChain);let c=r.ConnectorController.getAuthConnector();c&&(i.ChainController.setAccountProp("preferredAccountType",a,b),await c.provider.setPreferredAccount(a),p.StorageUtil.setPreferredAccountTypes(Object.entries(i.ChainController.state.chains).reduce((a,[b,c])=>{let d=(0,l.getPreferredAccountType)(b);return void 0!==d&&(a[b]=d),a},{})),await C.reconnectExternal(c),t.ModalController.setLoading(!1,i.ChainController.state.activeChain),s.EventsController.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:a,network:i.ChainController.state.activeCaipNetwork?.caipNetworkId||""}}))},signMessage:async a=>C._getClient()?.signMessage(a),parseUnits:(a,b)=>C._getClient()?.parseUnits(a,b),formatUnits:(a,b)=>C._getClient()?.formatUnits(a,b),updateBalance:a=>C._getClient()?.updateBalance(a),sendTransaction:async a=>C._getClient()?.sendTransaction(a),getCapabilities:async a=>C._getClient()?.getCapabilities(a),grantPermissions:async a=>C._getClient()?.grantPermissions(a),walletGetAssets:async a=>C._getClient()?.walletGetAssets(a)??{},estimateGas:async a=>C._getClient()?.estimateGas(a),writeContract:async a=>C._getClient()?.writeContract(a),writeSolanaTransaction:async a=>C._getClient()?.writeSolanaTransaction(a),getEnsAddress:async a=>C._getClient()?.getEnsAddress(a),getEnsAvatar:async a=>C._getClient()?.getEnsAvatar(a),checkInstalled:a=>C._getClient()?.checkInstalled?.(a)||!1,resetWcConnection(){B.wcUri=void 0,B.wcPairingExpiry=void 0,B.wcLinking=void 0,B.recentWallet=void 0,B.wcFetchingUri=!1,B.status="disconnected",A.resetTransactions(),p.StorageUtil.deleteWalletConnectDeepLink(),p.StorageUtil.deleteRecentWallet(),u.PublicStateController.set({connectingWallet:void 0})},resetUri(){B.wcUri=void 0,B.wcPairingExpiry=void 0,b=void 0,B.wcFetchingUri=!1,u.PublicStateController.set({connectingWallet:void 0})},finalizeWcConnection(a){let{wcLinking:b,recentWallet:c}=C.state;b&&p.StorageUtil.setWalletConnectDeepLink(b),c&&p.StorageUtil.setAppKitRecent(c),a&&s.EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:a,properties:{method:b?"mobile":"qrcode",name:v.RouterController.state.data?.wallet?.name||"Unknown",view:v.RouterController.state.view,walletRank:c?.order}})},setWcBasic(a){B.wcBasic=a},setUri(a){B.wcUri=a,B.wcFetchingUri=!1,B.wcPairingExpiry=o.CoreHelperUtil.getPairingExpiry()},setWcLinking(a){B.wcLinking=a},setWcError(a){B.wcError=a,B.wcFetchingUri=!1,B.buffering=!1},setRecentWallet(a){B.recentWallet=a},setBuffering(a){B.buffering=a},setStatus(a){B.status=a},setIsSwitchingConnection(a){B.isSwitchingConnection=a},async disconnect({id:a,namespace:b,initialDisconnect:c}={}){try{await C._getClient()?.disconnect({id:a,chainNamespace:b,initialDisconnect:c})}catch(a){throw new q.AppKitError("Failed to disconnect","INTERNAL_SDK_ERROR",a)}},async disconnectConnector({id:a,namespace:b}){try{await C._getClient()?.disconnectConnector({id:a,namespace:b})}catch(a){throw new q.AppKitError("Failed to disconnect connector","INTERNAL_SDK_ERROR",a)}},setConnections(a,b){let c=new Map(B.connections);c.set(b,a),B.connections=c},async handleAuthAccountSwitch({address:a,namespace:b}){let c=i.ChainController.getAccountData(b),d=c?.user?.accounts?.find(a=>"smartAccount"===a.type),e=d&&d.address.toLowerCase()===a.toLowerCase()&&n.ConnectorControllerUtil.canSwitchToSmartAccount(b)?"smartAccount":"eoa";await C.setPreferredAccountType(e,b)},async handleActiveConnection({connection:a,namespace:b,address:c}){let d=r.ConnectorController.getConnectorById(a.connectorId),e=a.connectorId===f.ConstantsUtil.CONNECTOR_ID.AUTH;if(!d)throw Error(`No connector found for connection: ${a.connectorId}`);if(e)c&&await C.handleAuthAccountSwitch({address:c,namespace:b});else{let a=await C.connectExternal({id:d.id,type:d.type,provider:d.provider,address:c,chain:b},b);return a?.address}return c},async handleDisconnectedConnection({connection:a,namespace:b,address:c,closeModalOnConnect:d}){let e,g=r.ConnectorController.getConnectorById(a.connectorId),h=a.auth?.name?.toLowerCase(),i=a.connectorId===f.ConstantsUtil.CONNECTOR_ID.AUTH,j=a.connectorId===f.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;if(!g)throw Error(`No connector found for connection: ${a.connectorId}`);if(i)if(h&&n.ConnectorControllerUtil.isSocialProvider(h)){let{address:a}=await n.ConnectorControllerUtil.connectSocial({social:h,closeModalOnConnect:d,onOpenFarcaster(){t.ModalController.open({view:"ConnectingFarcaster"})},onConnect(){v.RouterController.replace("ProfileWallets")}});e=a}else{let{address:a}=await n.ConnectorControllerUtil.connectEmail({closeModalOnConnect:d,onOpen(){t.ModalController.open({view:"EmailLogin"})},onConnect(){v.RouterController.replace("ProfileWallets")}});e=a}else if(j){let{address:a}=await n.ConnectorControllerUtil.connectWalletConnect({walletConnect:!0,connector:g,closeModalOnConnect:d,onOpen(a){let b=a?"AllWallets":"ConnectingWalletConnect";t.ModalController.state.open?v.RouterController.push(b):t.ModalController.open({view:b})},onConnect(){v.RouterController.replace("ProfileWallets")}});e=a}else{let a=await C.connectExternal({id:g.id,type:g.type,provider:g.provider,chain:b},b);a&&(e=a.address)}return i&&c&&await C.handleAuthAccountSwitch({address:c,namespace:b}),e},async switchConnection({connection:a,address:b,namespace:c,closeModalOnConnect:d,onChange:e}){let f,h=i.ChainController.getAccountData(c)?.caipAddress;if(h){let{address:a}=g.ParseUtil.parseCaipAddress(h);f=a}let j=m.ConnectionControllerUtil.getConnectionStatus(a,c);switch(j){case"connected":case"active":{let d=await C.handleActiveConnection({connection:a,namespace:c,address:b});if(f&&d){let a=d.toLowerCase()!==f.toLowerCase();e?.({address:d,namespace:c,hasSwitchedAccount:a,hasSwitchedWallet:"active"===j})}break}case"disconnected":{let f=await C.handleDisconnectedConnection({connection:a,namespace:c,address:b,closeModalOnConnect:d});f&&e?.({address:f,namespace:c,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw Error(`Invalid connection status: ${j}`)}}}),D={createBalance(a,b){let c={name:a.metadata.name||"",symbol:a.metadata.symbol||"",decimals:a.metadata.decimals||0,value:a.metadata.value||0,price:a.metadata.price||0,iconUrl:a.metadata.iconUrl||""};return{name:c.name,symbol:c.symbol,chainId:b,address:"native"===a.address?void 0:this.convertAddressToCAIP10Address(a.address,b),value:c.value,price:c.price,quantity:{decimals:c.decimals.toString(),numeric:this.convertHexToBalance({hex:a.balance,decimals:c.decimals})},iconUrl:c.iconUrl}},convertHexToBalance:({hex:a,decimals:b})=>(0,e.formatUnits)(BigInt(a),b),convertAddressToCAIP10Address:(a,b)=>`${b}:${a}`,createCAIP2ChainId:(a,b)=>`${b}:${parseInt(a,16)}`,getChainIdHexFromCAIP2ChainId(a){let b=a.split(":");if(b.length<2||!b[1])return"0x0";let c=parseInt(b[1],10);return isNaN(c)?"0x0":`0x${c.toString(16)}`},isWalletGetAssetsResponse(a){return"object"==typeof a&&null!==a&&Object.values(a).every(a=>Array.isArray(a)&&a.every(a=>this.isValidAsset(a)))},isValidAsset:a=>"object"==typeof a&&null!==a&&"string"==typeof a.address&&"string"==typeof a.balance&&("ERC20"===a.type||"NATIVE"===a.type)&&"object"==typeof a.metadata&&null!==a.metadata&&"string"==typeof a.metadata.name&&"string"==typeof a.metadata.symbol&&"number"==typeof a.metadata.decimals&&"number"==typeof a.metadata.price&&"string"==typeof a.metadata.iconUrl};async function E(){if(!c){let{createPublicClient:b,http:d,defineChain:e}=await a.A(74508);c={createPublicClient:b,http:d,defineChain:e}}return c}let F={getBlockchainApiRpcUrl(a,b){let c=new URL("https://rpc.walletconnect.org/v1/");return c.searchParams.set("chainId",a),c.searchParams.set("projectId",b),c.toString()},async getViemChain(a){let{defineChain:b}=await E(),{chainId:c}=g.ParseUtil.parseCaipNetworkId(a.caipNetworkId);return b({...a,id:Number(c)})},async createViemPublicClient(a){let{createPublicClient:b,http:c}=await E(),d=x.OptionsController.state.projectId,e=await F.getViemChain(a);if(!e)throw Error(`Chain ${a.caipNetworkId} not found in viem/chains`);return b({chain:e,transport:c(F.getBlockchainApiRpcUrl(a.caipNetworkId,d))})}},G={async getMyTokensWithBalance(a={forceUpdate:void 0,caipNetwork:i.ChainController.state.activeCaipNetwork,address:i.ChainController.getAccountData()?.address}){let{forceUpdate:b,caipNetwork:c,address:d}=a,e=r.ConnectorController.getConnectorId("eip155")===f.ConstantsUtil.CONNECTOR_ID.AUTH;if(!d)return[];let g=c?`${c.caipNetworkId}:${d}`:d,j=p.StorageUtil.getBalanceCacheForCaipAddress(g);if(j)return j.balances;if(c&&c.chainNamespace===f.ConstantsUtil.CHAIN.EVM&&e){let a=await this.getEIP155Balances(d,c);if(a)return this.filterLowQualityTokens(a)}let k=await h.BlockchainApiController.getBalance(d,c?.caipNetworkId,b);return this.filterLowQualityTokens(k.balances)},async getEIP155Balances(a,b){try{let c=D.getChainIdHexFromCAIP2ChainId(b.caipNetworkId),d=await C.getCapabilities(a);if(!d?.[c]?.assetDiscovery?.supported)return null;let e=await C.walletGetAssets({account:a,chainFilter:[c]});if(!D.isWalletGetAssetsResponse(e))return null;let f=(e[c]||[]).map(a=>D.createBalance(a,b.caipNetworkId));return p.StorageUtil.updateBalanceCache({caipAddress:`${b.caipNetworkId}:${a}`,balance:{balances:f},timestamp:Date.now()}),f}catch(a){return null}},filterLowQualityTokens:a=>a.filter(a=>"0"!==a.quantity.decimals),async fetchERC20Balance({caipAddress:a,assetAddress:b,caipNetwork:c}){let f=await F.createViemPublicClient(c),{address:h}=g.ParseUtil.parseCaipAddress(a),[{result:i},{result:j},{result:k},{result:l}]=await f.multicall({contracts:[{address:b,functionName:"name",args:[],abi:d.erc20Abi},{address:b,functionName:"symbol",args:[],abi:d.erc20Abi},{address:b,functionName:"balanceOf",args:[h],abi:d.erc20Abi},{address:b,functionName:"decimals",args:[],abi:d.erc20Abi}]});return{name:i,symbol:j,decimals:l,balance:k&&l?(0,e.formatUnits)(k,l):"0"}}},H={adapters:{}};a.s(["AdapterController",0,{state:H,initialize(a){H.adapters={...a}},get:a=>H.adapters[a]}],675529);let I={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:void 0},J=(0,j.proxy)({providers:{...I},providerIds:{...I}});a.s(["ProviderController",0,{state:J,subscribeKey:(a,b)=>(0,k.subscribeKey)(J,a,b),subscribe:a=>(0,j.subscribe)(J,()=>{a(J)}),subscribeProviders:a=>(0,j.subscribe)(J.providers,()=>a(J.providers)),setProvider(a,b){a&&b&&(J.providers[a]=(0,j.ref)(b))},getProvider(a){if(a)return J.providers[a]},setProviderId(a,b){b&&(J.providerIds[a]=b)},getProviderId(a){if(a)return J.providerIds[a]},reset(){J.providers={...I},J.providerIds={...I}},resetChain(a){J.providers[a]=void 0,J.providerIds[a]=void 0}}],890447);let K={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3,SEND_TRANSACTION_ERROR:5001},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError",SEND_TRANSACTION_ERROR:"SendTransactionError"},isRpcProviderError(a){try{if("object"==typeof a&&null!==a){let b="string"==typeof a.message,c="number"==typeof a.code;return b&&c}return!1}catch{return!1}},isUserRejectedMessage:a=>a.toLowerCase().includes("user rejected")||a.toLowerCase().includes("user cancelled")||a.toLowerCase().includes("user canceled"),isUserRejectedRequestError(a){if(K.isRpcProviderError(a)){let b=a.code===K.RPC_ERROR_CODE.USER_REJECTED_REQUEST,c=a.code===K.RPC_ERROR_CODE.USER_REJECTED_METHODS;return b||c||K.isUserRejectedMessage(a.message)}return a instanceof Error&&K.isUserRejectedMessage(a.message)}};class L extends Error{constructor(a,b){super(b.message,{cause:a}),this.name=K.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=b.code}}class M extends L{constructor(a){super(a,{code:K.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=K.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}}a.s(["ErrorUtil",0,K,"UserRejectedRequestError",()=>M],916451)},877548,a=>{"use strict";var b="[big.js] ",c=b+"Invalid ",d=c+"decimal places",e=c+"rounding mode",f=b+"Division by zero",g={},h=void 0,i=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function j(a,b,c,d){var f=a.c;if(c===h&&(c=a.constructor.RM),0!==c&&1!==c&&2!==c&&3!==c)throw Error(e);if(b<1)d=3===c&&(d||!!f[0])||0===b&&(1===c&&f[0]>=5||2===c&&(f[0]>5||5===f[0]&&(d||f[1]!==h))),f.length=1,d?(a.e=a.e-b+1,f[0]=1):f[0]=a.e=0;else if(b<f.length){if(d=1===c&&f[b]>=5||2===c&&(f[b]>5||5===f[b]&&(d||f[b+1]!==h||1&f[b-1]))||3===c&&(d||!!f[0]),f.length=b,d){for(;++f[--b]>9;)if(f[b]=0,0===b){++a.e,f.unshift(1);break}}for(b=f.length;!f[--b];)f.pop()}return a}function k(a,b,c){var d=a.e,e=a.c.join(""),f=e.length;if(b)e=e.charAt(0)+(f>1?"."+e.slice(1):"")+(d<0?"e":"e+")+d;else if(d<0){for(;++d;)e="0"+e;e="0."+e}else if(d>0)if(++d>f)for(d-=f;d--;)e+="0";else d<f&&(e=e.slice(0,d)+"."+e.slice(d));else f>1&&(e=e.charAt(0)+"."+e.slice(1));return a.s<0&&c?"-"+e:e}g.abs=function(){var a=new this.constructor(this);return a.s=1,a},g.cmp=function(a){var b,c=this.c,d=(a=new this.constructor(a)).c,e=this.s,f=a.s,g=this.e,h=a.e;if(!c[0]||!d[0])return c[0]?e:d[0]?-f:0;if(e!=f)return e;if(b=e<0,g!=h)return g>h^b?1:-1;for(e=-1,f=(g=c.length)<(h=d.length)?g:h;++e<f;)if(c[e]!=d[e])return c[e]>d[e]^b?1:-1;return g==h?0:g>h^b?1:-1},g.div=function(a){var b=this.constructor,c=this.c,e=(a=new b(a)).c,g=this.s==a.s?1:-1,i=b.DP;if(i!==~~i||i<0||i>1e6)throw Error(d);if(!e[0])throw Error(f);if(!c[0])return a.s=g,a.c=[a.e=0],a;var k,l,m,n,o,p=e.slice(),q=k=e.length,r=c.length,s=c.slice(0,k),t=s.length,u=a,v=u.c=[],w=0,x=i+(u.e=this.e-a.e)+1;for(u.s=g,g=x<0?0:x,p.unshift(0);t++<k;)s.push(0);do{for(m=0;m<10;m++){if(k!=(t=s.length))n=k>t?1:-1;else for(o=-1,n=0;++o<k;)if(e[o]!=s[o]){n=e[o]>s[o]?1:-1;break}if(n<0){for(l=t==k?e:p;t;){if(s[--t]<l[t]){for(o=t;o&&!s[--o];)s[o]=9;--s[o],s[t]+=10}s[t]-=l[t]}for(;!s[0];)s.shift()}else break}v[w++]=n?m:++m,s[0]&&n?s[t]=c[q]||0:s=[c[q]]}while((q++<r||s[0]!==h)&&g--)return!v[0]&&1!=w&&(v.shift(),u.e--,x--),w>x&&j(u,x,b.RM,s[0]!==h),u},g.eq=function(a){return 0===this.cmp(a)},g.gt=function(a){return this.cmp(a)>0},g.gte=function(a){return this.cmp(a)>-1},g.lt=function(a){return 0>this.cmp(a)},g.lte=function(a){return 1>this.cmp(a)},g.minus=g.sub=function(a){var b,c,d,e,f=this.constructor,g=this.s,h=(a=new f(a)).s;if(g!=h)return a.s=-h,this.plus(a);var i=this.c.slice(),j=this.e,k=a.c,l=a.e;if(!i[0]||!k[0])return k[0]?a.s=-h:i[0]?a=new f(this):a.s=1,a;if(g=j-l){for((e=g<0)?(g=-g,d=i):(l=j,d=k),d.reverse(),h=g;h--;)d.push(0);d.reverse()}else for(c=((e=i.length<k.length)?i:k).length,g=h=0;h<c;h++)if(i[h]!=k[h]){e=i[h]<k[h];break}if(e&&(d=i,i=k,k=d,a.s=-a.s),(h=(c=k.length)-(b=i.length))>0)for(;h--;)i[b++]=0;for(h=b;c>g;){if(i[--c]<k[c]){for(b=c;b&&!i[--b];)i[b]=9;--i[b],i[c]+=10}i[c]-=k[c]}for(;0===i[--h];)i.pop();for(;0===i[0];)i.shift(),--l;return i[0]||(a.s=1,i=[l=0]),a.c=i,a.e=l,a},g.mod=function(a){var b,c=this,d=c.constructor,e=c.s,g=(a=new d(a)).s;if(!a.c[0])throw Error(f);return(c.s=a.s=1,b=1==a.cmp(c),c.s=e,a.s=g,b)?new d(c):(e=d.DP,g=d.RM,d.DP=d.RM=0,c=c.div(a),d.DP=e,d.RM=g,this.minus(c.times(a)))},g.neg=function(){var a=new this.constructor(this);return a.s=-a.s,a},g.plus=g.add=function(a){var b,c,d,e=this.constructor;if(a=new e(a),this.s!=a.s)return a.s=-a.s,this.minus(a);var f=this.e,g=this.c,h=a.e,i=a.c;if(!g[0]||!i[0])return i[0]||(g[0]?a=new e(this):a.s=this.s),a;if(g=g.slice(),b=f-h){for(b>0?(h=f,d=i):(b=-b,d=g),d.reverse();b--;)d.push(0);d.reverse()}for(g.length-i.length<0&&(d=i,i=g,g=d),b=i.length,c=0;b;g[b]%=10)c=(g[--b]=g[b]+i[b]+c)/10|0;for(c&&(g.unshift(c),++h),b=g.length;0===g[--b];)g.pop();return a.c=g,a.e=h,a},g.pow=function(a){var b=this,d=new b.constructor("1"),e=d,f=a<0;if(a!==~~a||a<-1e6||a>1e6)throw Error(c+"exponent");for(f&&(a=-a);1&a&&(e=e.times(b)),a>>=1;)b=b.times(b);return f?d.div(e):e},g.prec=function(a,b){if(a!==~~a||a<1||a>1e6)throw Error(c+"precision");return j(new this.constructor(this),a,b)},g.round=function(a,b){if(a===h)a=0;else if(a!==~~a||a<-1e6||a>1e6)throw Error(d);return j(new this.constructor(this),a+this.e+1,b)},g.sqrt=function(){var a,c,d,e=this.constructor,f=this.s,g=this.e,h=new e("0.5");if(!this.c[0])return new e(this);if(f<0)throw Error(b+"No square root");0===(f=Math.sqrt(+k(this,!0,!0)))||f===1/0?((c=this.c.join("")).length+g&1||(c+="0"),g=((g+1)/2|0)-(g<0||1&g),a=new e(((f=Math.sqrt(c))==1/0?"5e":(f=f.toExponential()).slice(0,f.indexOf("e")+1))+g)):a=new e(f+""),g=a.e+(e.DP+=4);do d=a,a=h.times(d.plus(this.div(d)));while(d.c.slice(0,g).join("")!==a.c.slice(0,g).join(""))return j(a,(e.DP-=4)+a.e+1,e.RM)},g.times=g.mul=function(a){var b,c=this.constructor,d=this.c,e=(a=new c(a)).c,f=d.length,g=e.length,h=this.e,i=a.e;if(a.s=this.s==a.s?1:-1,!d[0]||!e[0])return a.c=[a.e=0],a;for(a.e=h+i,f<g&&(b=d,d=e,e=b,i=f,f=g,g=i),b=Array(i=f+g);i--;)b[i]=0;for(h=g;h--;){for(g=0,i=f+h;i>h;)g=b[i]+e[h]*d[i-h-1]+g,b[i--]=g%10,g=g/10|0;b[i]=g}for(g?++a.e:b.shift(),h=b.length;!b[--h];)b.pop();return a.c=b,a},g.toExponential=function(a,b){var c=this,e=c.c[0];if(a!==h){if(a!==~~a||a<0||a>1e6)throw Error(d);for(c=j(new c.constructor(c),++a,b);c.c.length<a;)c.c.push(0)}return k(c,!0,!!e)},g.toFixed=function(a,b){var c=this,e=c.c[0];if(a!==h){if(a!==~~a||a<0||a>1e6)throw Error(d);for(c=j(new c.constructor(c),a+c.e+1,b),a=a+c.e+1;c.c.length<a;)c.c.push(0)}return k(c,!1,!!e)},g[Symbol.for("nodejs.util.inspect.custom")]=g.toJSON=g.toString=function(){var a=this.constructor;return k(this,this.e<=a.NE||this.e>=a.PE,!!this.c[0])},g.toNumber=function(){var a=+k(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(a.toString()))throw Error(b+"Imprecise conversion");return a},g.toPrecision=function(a,b){var d=this,e=d.constructor,f=d.c[0];if(a!==h){if(a!==~~a||a<1||a>1e6)throw Error(c+"precision");for(d=j(new e(d),a,b);d.c.length<a;)d.c.push(0)}return k(d,a<=d.e||d.e<=e.NE||d.e>=e.PE,!!f)},g.valueOf=function(){var a=this.constructor;if(!0===a.strict)throw Error(b+"valueOf disallowed");return k(this,this.e<=a.NE||this.e>=a.PE,!0)};var l=function a(){function b(d){if(!(this instanceof b))return d===h?a():new b(d);if(d instanceof b)this.s=d.s,this.e=d.e,this.c=d.c.slice();else{if("string"!=typeof d){if(!0===b.strict&&"bigint"!=typeof d)throw TypeError(c+"value");d=0===d&&1/d<0?"-0":String(d)}!function(a,b){var d,e,f;if(!i.test(b))throw Error(c+"number");for(a.s="-"==b.charAt(0)?(b=b.slice(1),-1):1,(d=b.indexOf("."))>-1&&(b=b.replace(".","")),(e=b.search(/e/i))>0?(d<0&&(d=e),d+=+b.slice(e+1),b=b.substring(0,e)):d<0&&(d=b.length),f=b.length,e=0;e<f&&"0"==b.charAt(e);)++e;if(e==f)a.c=[a.e=0];else{for(;f>0&&"0"==b.charAt(--f););for(a.e=d-e-1,a.c=[],d=0;e<=f;)a.c[d++]=+b.charAt(e++)}}(this,d)}this.constructor=b}return b.prototype=g,b.DP=20,b.RM=1,b.NE=-7,b.PE=21,b.strict=!1,b.roundDown=0,b.roundHalfUp=1,b.roundHalfEven=2,b.roundUp=3,b}();let m={bigNumber(a,b={safe:!1}){try{if(!a)return new l(0);return new l(a)}catch(a){if(b.safe)return new l(0);throw a}},formatNumber(a,b){let{decimals:c,round:d=8,safe:e=!0}=b;return m.bigNumber(a,{safe:e}).div(new l(10).pow(c)).round(d)},multiply(a,b){if(void 0===a||void 0===b)return new l(0);let c=new l(a),d=new l(b);return c.times(d)},toFixed:(a,b=2)=>void 0===a||""===a?new l(0).toFixed(b):new l(a).toFixed(b),formatNumberToLocalString:(a,b=2)=>void 0===a||""===a?"0.00":"number"==typeof a?a.toLocaleString("en-US",{maximumFractionDigits:b,minimumFractionDigits:b,roundingMode:"floor"}):parseFloat(a).toLocaleString("en-US",{maximumFractionDigits:b,minimumFractionDigits:b,roundingMode:"floor"}),parseLocalStringToNumber:a=>void 0===a||""===a?0:new l(a.replace(/,/gu,"")).toNumber()};a.s(["NumberUtil",0,m],877548)},602383,191448,305077,411210,a=>{"use strict";a.s(["ChainController",()=>M],602383);var b=a.i(252271),c=a.i(129286),d=a.i(883148),e=a.i(447649),f=a.i(922848),g=a.i(83965),h=a.i(705346),i=a.i(862723),j=a.i(977601),k=a.i(135323),l=a.i(82228),m=a.i(929581),n=a.i(675529),o=a.i(346280),p=a.i(109450),q=a.i(242528),r=a.i(786183),s=a.i(94702),t=a.i(890447),u=a.i(284799);a.s(["SendController",()=>H],411210);var v=a.i(916451),w=a.i(877548);let x=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],y=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],z=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],A={getERC20Abi:a=>d.ConstantsUtil.USDT_CONTRACT_ADDRESSES.includes(a)?z:x,getSwapAbi:()=>y};a.s(["ContractUtil",0,A],191448);var B=a.i(435044);a.s(["SwapApiUtil",()=>D],305077);var C=a.i(473439);let D={async getTokenList(a){let b=await C.BlockchainApiController.fetchSwapTokens({chainId:a});return b?.tokens?.map(a=>({...a,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){let a=M.state.activeCaipNetwork;if(!a)return null;try{if("solana"!==a.chainNamespace)return await C.BlockchainApiController.fetchGasPrice({chainId:a.caipNetworkId});{let a=(await o.ConnectionController?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:a,fast:a,instant:a}}}catch{return null}},async fetchSwapAllowance({tokenAddress:a,userAddress:b,sourceTokenAmount:c,sourceTokenDecimals:d}){let e=await C.BlockchainApiController.fetchSwapAllowance({tokenAddress:a,userAddress:b});if(e?.allowance&&c&&d){let a=o.ConnectionController.parseUnits(c,d)||0;return BigInt(e.allowance)>=a}return!1},async getMyTokensWithBalance(a){let b=await i.BalanceUtil.getMyTokensWithBalance({forceUpdate:a,caipNetwork:M.state.activeCaipNetwork,address:M.getAccountData()?.address});return M.setAccountProp("tokenBalance",b,M.state.activeChain),this.mapBalancesToSwapTokens(b)},mapBalancesToSwapTokens:a=>a?.map(a=>({...a,address:a?.address?a.address:(0,B.getActiveNetworkTokenAddress)(),decimals:parseInt(a.quantity.decimals,10),logoUri:a.iconUrl,eip2612:!1}))||[],async handleSwapError(a){try{let b=a?.cause;if(!b?.json)return;let c=await b.json(),d=c?.reasons?.[0]?.description;if(d?.includes("insufficient liquidity"))return"Insufficient liquidity";return}catch{return}}};var E=a.i(667625),F=a.i(531657);let G=(0,b.proxy)({tokenBalances:[],loading:!1}),H=(0,m.withErrorBoundary)({state:G,subscribe:a=>(0,b.subscribe)(G,()=>a(G)),subscribeKey:(a,b)=>(0,c.subscribeKey)(G,a,b),setToken(a){a&&(G.token=(0,b.ref)(a))},setTokenAmount(a){G.sendTokenAmount=a},setReceiverAddress(a){G.receiverAddress=a},setReceiverProfileImageUrl(a){G.receiverProfileImageUrl=a},setReceiverProfileName(a){G.receiverProfileName=a},setNetworkBalanceInUsd(a){G.networkBalanceInUSD=a},setLoading(a){G.loading=a},getSdkEventProperties:a=>({message:k.CoreHelperUtil.parseError(a),isSmartAccount:(0,B.getPreferredAccountType)(M.state.activeChain)===g.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:G.token?.symbol||"",amount:G.sendTokenAmount??0,network:M.state.activeCaipNetwork?.caipNetworkId||""}),async sendToken(){try{switch(H.setLoading(!0),M.state.activeCaipNetwork?.chainNamespace){case"eip155":await H.sendEvmToken();return;case"solana":await H.sendSolanaToken();return;default:throw Error("Unsupported chain")}}catch(a){if(v.ErrorUtil.isUserRejectedRequestError(a))throw new v.UserRejectedRequestError(a);throw a}finally{H.setLoading(!1)}},async sendEvmToken(){let a=M.state.activeChain;if(!a)throw Error("SendController:sendEvmToken - activeChainNamespace is required");let b=(0,B.getPreferredAccountType)(a);if(!H.state.sendTokenAmount||!H.state.receiverAddress)throw Error("An amount and receiver address are required");if(!H.state.token)throw Error("A token is required");if(H.state.token?.address){q.EventsController.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:b===g.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:H.state.token.address,amount:H.state.sendTokenAmount,network:M.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:a}=await H.sendERC20Token({receiverAddress:H.state.receiverAddress,tokenAddress:H.state.token.address,sendTokenAmount:H.state.sendTokenAmount,decimals:H.state.token.quantity.decimals});a&&(G.hash=a)}else{q.EventsController.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:b===g.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:H.state.token.symbol||"",amount:H.state.sendTokenAmount,network:M.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:a}=await H.sendNativeToken({receiverAddress:H.state.receiverAddress,sendTokenAmount:H.state.sendTokenAmount,decimals:H.state.token.quantity.decimals});a&&(G.hash=a)}},async fetchTokenBalance(a){G.loading=!0;let b=M.state.activeChain,c=M.state.activeCaipNetwork?.caipNetworkId,d=M.state.activeCaipNetwork?.chainNamespace,e=M.getAccountData(b)?.caipAddress??M.state.activeCaipAddress,f=e?k.CoreHelperUtil.getPlainAddress(e):void 0;if(G.lastRetry&&!k.CoreHelperUtil.isAllowedRetry(G.lastRetry,30*j.ConstantsUtil.ONE_SEC_MS))return G.loading=!1,[];try{if(f&&c&&d){let a=await i.BalanceUtil.getMyTokensWithBalance();return G.tokenBalances=a,G.lastRetry=void 0,a}}catch(b){G.lastRetry=Date.now(),a?.(b),F.SnackController.showError("Token Balance Unavailable")}finally{G.loading=!1}return[]},fetchNetworkBalance(){if(0===G.tokenBalances.length)return;let a=D.mapBalancesToSwapTokens(G.tokenBalances);if(!a)return;let b=a.find(a=>a.address===(0,B.getActiveNetworkTokenAddress)());b&&(G.networkBalanceInUSD=b?w.NumberUtil.multiply(b.quantity.numeric,b.price).toString():"0")},async sendNativeToken(a){E.RouterController.pushTransactionStack({});let b=a.receiverAddress,c=M.getAccountData()?.address,e=o.ConnectionController.parseUnits(a.sendTokenAmount.toString(),Number(a.decimals)),f=await o.ConnectionController.sendTransaction({chainNamespace:d.ConstantsUtil.CHAIN.EVM,to:b,address:c,data:"0x",value:e??BigInt(0)});return q.EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:(0,B.getPreferredAccountType)("eip155")===g.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:H.state.token?.symbol||"",amount:a.sendTokenAmount,network:M.state.activeCaipNetwork?.caipNetworkId||"",hash:f||""}}),o.ConnectionController._getClient()?.updateBalance("eip155"),H.resetSend(),{hash:f}},async sendERC20Token(a){E.RouterController.pushTransactionStack({onSuccess(){E.RouterController.replace("Account")}});let b=o.ConnectionController.parseUnits(a.sendTokenAmount.toString(),Number(a.decimals)),c=M.getAccountData()?.address;if(c&&a.sendTokenAmount&&a.receiverAddress&&a.tokenAddress){let e=k.CoreHelperUtil.getPlainAddress(a.tokenAddress);if(!e)throw Error("SendController:sendERC20Token - tokenAddress is required");let f=await o.ConnectionController.writeContract({fromAddress:c,tokenAddress:e,args:[a.receiverAddress,b??BigInt(0)],method:"transfer",abi:A.getERC20Abi(e),chainNamespace:d.ConstantsUtil.CHAIN.EVM});return q.EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:(0,B.getPreferredAccountType)("eip155")===g.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:H.state.token?.symbol||"",amount:a.sendTokenAmount,network:M.state.activeCaipNetwork?.caipNetworkId||"",hash:f||""}}),H.resetSend(),{hash:f}}return{hash:void 0}},async sendSolanaToken(){let a;if(!H.state.sendTokenAmount||!H.state.receiverAddress)throw Error("An amount and receiver address are required");E.RouterController.pushTransactionStack({onSuccess(){E.RouterController.replace("Account")}}),H.state.token&&H.state.token.address!==j.ConstantsUtil.SOLANA_NATIVE_TOKEN_ADDRESS&&(a=k.CoreHelperUtil.isCaipAddress(H.state.token.address)?k.CoreHelperUtil.getPlainAddress(H.state.token.address):H.state.token.address);let b=await o.ConnectionController.sendTransaction({chainNamespace:"solana",tokenMint:a,to:H.state.receiverAddress,value:H.state.sendTokenAmount});b&&(G.hash=b),o.ConnectionController._getClient()?.updateBalance("solana"),q.EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:H.state.token?.symbol||"",amount:H.state.sendTokenAmount,network:M.state.activeCaipNetwork?.caipNetworkId||"",hash:b||""}}),H.resetSend()},resetSend(){G.token=void 0,G.sendTokenAmount=void 0,G.receiverAddress=void 0,G.receiverProfileImageUrl=void 0,G.receiverProfileName=void 0,G.loading=!1,G.tokenBalances=[]}}),I={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},J={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},K=(0,b.proxy)({chains:(0,c.proxyMap)(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),L={state:K,subscribe:a=>(0,b.subscribe)(K,()=>{a(K)}),subscribeKey:(a,b)=>(0,c.subscribeKey)(K,a,b),subscribeAccountStateProp(a,b,d){let e=d||K.activeChain;return e?(0,c.subscribeKey)(K.chains.get(e)?.accountState||{},a,b):()=>void 0},subscribeChainProp(a,c,d){let e;return(0,b.subscribe)(K.chains,()=>{let b=d||K.activeChain;if(b){let d=K.chains.get(b)?.[a];e!==d&&(e=d,c(d))}})},initialize(a,c,d){let{chainId:e,namespace:f}=l.StorageUtil.getActiveNetworkProps(),g=c?.find(a=>a.id.toString()===e?.toString()),h=a.find(a=>a?.namespace===f)||a?.[0],i=a.map(a=>a.namespace).filter(a=>void 0!==a),j=new Set(s.OptionsController.state.enableEmbedded?[...i]:[...c?.map(a=>a.chainNamespace)??[]]);a?.length!==0&&h||(K.noAdapters=!0),!K.noAdapters&&(K.activeChain=h?.namespace,K.activeCaipNetwork=g,M.setChainNetworkData(h?.namespace,{caipNetwork:g}),K.activeChain&&u.PublicStateController.set({activeChain:h?.namespace})),j.forEach(a=>{let e=c?.filter(b=>b.chainNamespace===a),f=l.StorageUtil.getPreferredAccountTypes()||{},g={...s.OptionsController.state.defaultAccountTypes,...f};M.state.chains.set(a,{namespace:a,networkState:(0,b.proxy)({...J,caipNetwork:e?.[0]}),accountState:(0,b.proxy)({...I,preferredAccountType:g[a]}),caipNetworks:e??[],...d}),M.setRequestedCaipNetworks(e??[],a)})},removeAdapter(a){if(K.activeChain===a){let b=Array.from(K.chains.entries()).find(([b])=>b!==a);if(b){let a=b[1]?.caipNetworks?.[0];a&&M.setActiveCaipNetwork(a)}}K.chains.delete(a)},addAdapter(a,{connectionControllerClient:b},c){if(!a.namespace)throw Error("ChainController:addAdapter - adapter must have a namespace");K.chains.set(a.namespace,{namespace:a.namespace,networkState:{...J,caipNetwork:c[0]},accountState:{...I},caipNetworks:c,connectionControllerClient:b}),M.setRequestedCaipNetworks(c?.filter(b=>b.chainNamespace===a.namespace)??[],a.namespace)},addNetwork(a){let b=K.chains.get(a.chainNamespace);if(b){let c=[...b.caipNetworks||[]];b.caipNetworks?.find(b=>b.id===a.id)||c.push(a),K.chains.set(a.chainNamespace,{...b,caipNetworks:c}),M.setRequestedCaipNetworks(c,a.chainNamespace),p.ConnectorController.filterByNamespace(a.chainNamespace,!0)}},removeNetwork(a,b){let c=K.chains.get(a);if(c){let d=K.activeCaipNetwork?.id===b,e=[...c.caipNetworks?.filter(a=>a.id!==b)||[]];d&&c?.caipNetworks?.[0]&&M.setActiveCaipNetwork(c.caipNetworks[0]),K.chains.set(a,{...c,caipNetworks:e}),M.setRequestedCaipNetworks(e||[],a),0===e.length&&p.ConnectorController.filterByNamespace(a,!1)}},setAdapterNetworkState(a,b){let c=K.chains.get(a);c&&(c.networkState={...c.networkState||J,...b},K.chains.set(a,c))},setChainAccountData(a,b,c=!0){if(!a)throw Error("Chain is required to update chain account data");let d=K.chains.get(a);if(d){let c={...d.accountState||I,...b};K.chains.set(a,{...d,accountState:c}),(1===K.chains.size||K.activeChain===a)&&b.caipAddress&&(K.activeCaipAddress=b.caipAddress)}},setChainNetworkData(a,b){if(!a)return;let c=K.chains.get(a);if(c){let d={...c.networkState||J,...b};K.chains.set(a,{...c,networkState:d})}},setAccountProp(a,b,c,d=!0){M.setChainAccountData(c,{[a]:b},d)},setActiveNamespace(a){K.activeChain=a;let b=a?K.chains.get(a):void 0,c=b?.networkState?.caipNetwork;c?.id&&a&&(K.activeCaipAddress=b?.accountState?.caipAddress,K.activeCaipNetwork=c,M.setChainNetworkData(a,{caipNetwork:c}),l.StorageUtil.setActiveCaipNetworkId(c?.caipNetworkId),u.PublicStateController.set({activeChain:a,selectedNetworkId:c?.caipNetworkId}))},setActiveCaipNetwork(a){if(!a)return;let b=K.activeChain===a.chainNamespace;b||M.setIsSwitchingNamespace(!0);let c=K.chains.get(a.chainNamespace);K.activeChain=a.chainNamespace,K.activeCaipNetwork=a,M.setChainNetworkData(a.chainNamespace,{caipNetwork:a});let d=c?.accountState?.address;if(d)K.activeCaipAddress=`${a.chainNamespace}:${a.id}:${d}`;else if(b&&K.activeCaipAddress){let{address:b}=f.ParseUtil.parseCaipAddress(K.activeCaipAddress);d=b,K.activeCaipAddress=`${a.caipNetworkId}:${d}`}else K.activeCaipAddress=void 0;M.setChainAccountData(a.chainNamespace,{address:d,caipAddress:K.activeCaipAddress}),H.resetSend(),u.PublicStateController.set({activeChain:K.activeChain,selectedNetworkId:K.activeCaipNetwork?.caipNetworkId}),l.StorageUtil.setActiveCaipNetworkId(a.caipNetworkId),M.checkIfSupportedNetwork(a.chainNamespace)||!s.OptionsController.state.enableNetworkSwitch||s.OptionsController.state.allowUnsupportedChain||o.ConnectionController.state.wcBasic||M.showUnsupportedChainUI()},addCaipNetwork(a){if(!a)return;let b=K.chains.get(a.chainNamespace);b&&b?.caipNetworks?.push(a)},async switchActiveNamespace(a){if(!a)return;let b=a!==M.state.activeChain,c=M.getNetworkData(a)?.caipNetwork,d=M.getCaipNetworkByNamespace(a,c?.id);b&&d&&await M.switchActiveNetwork(d)},async switchActiveNetwork(a,{throwOnFailure:b=!1}={}){let c=M.state.activeChain;if(!c)throw Error("ChainController:switchActiveNetwork - namespace is required");let e="AUTH"===t.ProviderController.getProviderId(K.activeChain),f=M.getAccountData(c)?.address,g=d.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(a.chainNamespace);try{if(f&&a.chainNamespace===c||e&&g){let b=n.AdapterController.get(a.chainNamespace);if(!b)throw Error("Adapter not found");await b.switchNetwork({caipNetwork:a})}M.setActiveCaipNetwork(a)}catch(a){if(b)throw a}q.EventsController.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:a.caipNetworkId}})},getConnectionControllerClient(a){let b=a||K.activeChain;if(!b)throw Error("Chain is required to get connection controller client");let c=K.chains.get(b);if(!c?.connectionControllerClient)throw Error("ConnectionController client not set");return c.connectionControllerClient},getNetworkProp(a,b){let c=K.chains.get(b)?.networkState;if(c)return c[a]},getRequestedCaipNetworks(a){let b=K.chains.get(a),{approvedCaipNetworkIds:c=[],requestedCaipNetworks:d=[]}=b?.networkState||{};return k.CoreHelperUtil.sortRequestedNetworks(c,d).filter(a=>a?.id)},getAllRequestedCaipNetworks(){let a=[];return K.chains.forEach(b=>{if(!b.namespace)throw Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");let c=M.getRequestedCaipNetworks(b.namespace);a.push(...c)}),a},setRequestedCaipNetworks(a,b){M.setAdapterNetworkState(b,{requestedCaipNetworks:a});let c=Array.from(new Set(M.getAllRequestedCaipNetworks().map(a=>a.chainNamespace)));p.ConnectorController.filterByNamespaces(c)},getAllApprovedCaipNetworkIds(){let a=[];return K.chains.forEach(b=>{if(!b.namespace)throw Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");let c=M.getApprovedCaipNetworkIds(b.namespace);a.push(...c)}),a},getActiveCaipNetwork:a=>a?K.chains.get(a)?.networkState?.caipNetwork:K.activeCaipNetwork,getActiveCaipAddress:()=>K.activeCaipAddress,getApprovedCaipNetworkIds(a){let b=K.chains.get(a);return b?.networkState?.approvedCaipNetworkIds||[]},setApprovedCaipNetworksData(a,b){M.setAdapterNetworkState(a,b)},checkIfSupportedNetwork(a,b){let c=b||K.activeCaipNetwork?.caipNetworkId,d=M.getRequestedCaipNetworks(a);return!d.length||d?.some(a=>a.caipNetworkId===c)},checkIfSupportedChainId(a){if(!K.activeChain)return!0;let b=M.getRequestedCaipNetworks(K.activeChain);return b?.some(b=>b.id===a)},checkIfSmartAccountEnabled(){let a=e.NetworkUtil.caipNetworkIdToNumber(K.activeCaipNetwork?.caipNetworkId);if(!K.activeChain||!a)return!1;let b=h.W3mFrameStorage.get(g.W3mFrameConstants.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[];return!!b?.includes(a.toString())},showUnsupportedChainUI(){r.ModalController.open({view:"UnsupportedChain"})},checkIfNamesSupported(){let a=K.activeCaipNetwork;return!!(a?.chainNamespace&&j.ConstantsUtil.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(a.chainNamespace))},resetNetwork(a){M.setAdapterNetworkState(a,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(a){if(!a)throw Error("Chain is required to set account prop");let b=M.state.chains.get(a)?.accountState?.preferredAccountType,c=s.OptionsController.state.defaultAccountTypes[a];K.activeCaipAddress=void 0,M.setChainAccountData(a,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:c||b,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),p.ConnectorController.removeConnectorId(a)},setIsSwitchingNamespace(a){K.isSwitchingNamespace=a},getFirstCaipNetworkSupportsAuthConnector(){let a=[];if(K.chains.forEach(b=>{d.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(a=>a===b.namespace)&&b.namespace&&a.push(b.namespace)}),a.length>0){let b=a[0];return b?K.chains.get(b)?.caipNetworks?.[0]:void 0}},getAccountData(a){let b=a||K.activeChain;if(b)return M.state.chains.get(b)?.accountState},getNetworkData(a){let b=a||K.activeChain;if(b)return M.state.chains.get(b)?.networkState},getCaipNetworkByNamespace(a,b){if(!a)return;let c=M.state.chains.get(a),d=c?.caipNetworks?.find(a=>a.id.toString()===b?.toString());return d||c?.networkState?.caipNetwork||c?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){let a=p.ConnectorController.state.filterByNamespace;return(a?[K.chains.get(a)]:Array.from(K.chains.values())).flatMap(a=>a?.caipNetworks||[]).map(a=>a.caipNetworkId)},getCaipNetworks:a=>a?M.getRequestedCaipNetworks(a):M.getAllRequestedCaipNetworks(),getCaipNetworkById:(a,b)=>L.getCaipNetworks(b).find(b=>b.id.toString()===a.toString()||b.caipNetworkId.toString()===a.toString()),setLastConnectedSIWECaipNetwork(a){K.lastConnectedSIWECaipNetwork=a},getLastConnectedSIWECaipNetwork:()=>K.lastConnectedSIWECaipNetwork,async fetchTokenBalance(a){let b=M.getAccountData();if(!b)return[];let c=M.state.activeCaipNetwork?.caipNetworkId,d=M.state.activeCaipNetwork?.chainNamespace,e=M.state.activeCaipAddress,f=e?k.CoreHelperUtil.getPlainAddress(e):void 0;if(M.setAccountProp("balanceLoading",!0,d),b.lastRetry&&!k.CoreHelperUtil.isAllowedRetry(b.lastRetry,30*j.ConstantsUtil.ONE_SEC_MS))return M.setAccountProp("balanceLoading",!1,d),[];try{if(f&&c&&d){let a=await i.BalanceUtil.getMyTokensWithBalance();return M.setAccountProp("tokenBalance",a,d),M.setAccountProp("lastRetry",void 0,d),M.setAccountProp("balanceLoading",!1,d),a}}catch(b){M.setAccountProp("lastRetry",Date.now(),d),a?.(b),F.SnackController.showError("Token Balance Unavailable")}finally{M.setAccountProp("balanceLoading",!1,d)}return[]},isCaipNetworkDisabled(a){let b=a.chainNamespace,c=!!M.getAccountData(b)?.caipAddress,e=M.getAllApprovedCaipNetworkIds(),f=!1!==M.getNetworkProp("supportsAllNetworks",b),g=p.ConnectorController.getConnectorId(b),h=p.ConnectorController.getAuthConnector(),i=g===d.ConstantsUtil.CONNECTOR_ID.AUTH&&h;return!!c&&!f&&!i&&!e?.includes(a.caipNetworkId)}},M=(0,m.withErrorBoundary)(L)},43161,a=>{"use strict";a.s(["CUSTOM_DEEPLINK_WALLETS",()=>d,"MobileWalletUtil",()=>e]);var b=a.i(883148),c=a.i(602383);let d={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},e={handleMobileDeeplinkRedirect(a,e){let f=window.location.href,g=encodeURIComponent(f);if(a===d.PHANTOM.id&&!("phantom"in window)){let a=f.startsWith("https")?"https":"http",b=f.split("/")[2],c=encodeURIComponent(`${a}://${b}`);window.location.href=`${d.PHANTOM.url}/ul/browse/${g}?ref=${c}`}if(a!==d.SOLFLARE.id||"solflare"in window||(window.location.href=`${d.SOLFLARE.url}/ul/v1/browse/${g}?ref=${g}`),e!==b.ConstantsUtil.CHAIN.SOLANA||a!==d.COINBASE.id||"coinbaseSolana"in window||(window.location.href=`${d.COINBASE.url}/dapp?cb_url=${g}`),e===b.ConstantsUtil.CHAIN.BITCOIN&&a===d.BINANCE.id&&!("binancew3w"in window)){let a=c.ChainController.state.activeCaipNetwork,b=window.btoa("/pages/browser/index"),e=window.btoa(`url=${g}&defaultChainId=${a?.id??1}`),f=new URL(d.BINANCE.deeplink);f.searchParams.set("appId",d.BINANCE.appId),f.searchParams.set("startPagePath",b),f.searchParams.set("startPageQuery",e);let h=new URL(d.BINANCE.url);h.searchParams.set("_dp",window.btoa(f.toString())),window.location.href=h.toString()}}}},321590,a=>{"use strict";a.s(["ApiController",()=>r]);var b=a.i(252271),c=a.i(129286),d=a.i(883148),e=a.i(898965),f=a.i(135323),g=a.i(939546),h=a.i(43161),i=a.i(82228),j=a.i(706556),k=a.i(602383),l=a.i(109450),m=a.i(242528),n=a.i(94702);let o=f.CoreHelperUtil.getApiUrl(),p=new g.FetchUtil({baseUrl:o,clientId:null}),q=(0,b.proxy)({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),r={state:q,subscribeKey:(a,b)=>(0,c.subscribeKey)(q,a,b),_getSdkProperties(){let{projectId:a,sdkType:b,sdkVersion:c}=n.OptionsController.state;return{projectId:a,st:b||"appkit",sv:c||"html-wagmi-4.2.2"}},_filterOutExtensions:a=>n.OptionsController.state.isUniversalProvider?a.filter(a=>!!(a.mobile_link||a.desktop_link||a.webapp_link)):a,async _fetchWalletImage(a){let b=`${p.baseUrl}/getWalletImage/${a}`,c=await p.getBlob({path:b,params:r._getSdkProperties()});j.AssetController.setWalletImage(a,URL.createObjectURL(c))},async _fetchNetworkImage(a){let b=`${p.baseUrl}/public/getAssetImage/${a}`,c=await p.getBlob({path:b,params:r._getSdkProperties()});j.AssetController.setNetworkImage(a,URL.createObjectURL(c))},async _fetchConnectorImage(a){let b=`${p.baseUrl}/public/getAssetImage/${a}`,c=await p.getBlob({path:b,params:r._getSdkProperties()});j.AssetController.setConnectorImage(a,URL.createObjectURL(c))},async _fetchCurrencyImage(a){let b=`${p.baseUrl}/public/getCurrencyImage/${a}`,c=await p.getBlob({path:b,params:r._getSdkProperties()});j.AssetController.setCurrencyImage(a,URL.createObjectURL(c))},async _fetchTokenImage(a){let b=`${p.baseUrl}/public/getTokenImage/${a}`,c=await p.getBlob({path:b,params:r._getSdkProperties()});j.AssetController.setTokenImage(a,URL.createObjectURL(c))},_filterWalletsByPlatform(a){let b=a.length,c=f.CoreHelperUtil.isMobile()?a?.filter(a=>!!a.mobile_link||!!a.webapp_link||Object.values(h.CUSTOM_DEEPLINK_WALLETS).map(a=>a.id).includes(a.id)):a,d=b-c.length;return{filteredWallets:c,mobileFilteredOutWalletsLength:d}},fetchProjectConfig:async()=>(await p.get({path:"/appkit/v1/config",params:r._getSdkProperties()})).features,async fetchUsage(){try{let{tier:a,isAboveMauLimit:b,isAboveRpcLimit:c}=(await p.get({path:"/appkit/v1/project-limits",params:r._getSdkProperties()})).planLimits;r.state.plan={tier:a,hasExceededUsageLimit:"starter"===a&&(b||c),limits:{isAboveRpcLimit:c,isAboveMauLimit:b}}}catch(a){console.warn("Failed to fetch usage",a)}},async fetchAllowedOrigins(){try{let{allowedOrigins:a}=await p.get({path:"/projects/v1/origins",params:r._getSdkProperties()});return a}catch(a){if(a instanceof Error&&a.cause instanceof Response){let b=a.cause.status;if(b===d.ConstantsUtil.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw Error("RATE_LIMITED",{cause:a});if(b>=d.ConstantsUtil.HTTP_STATUS_CODES.SERVER_ERROR&&b<600)throw Error("SERVER_ERROR",{cause:a})}return[]}},async fetchNetworkImages(){let a=k.ChainController.getAllRequestedCaipNetworks(),b=a?.map(({assets:a})=>a?.imageId).filter(Boolean).filter(a=>!e.AssetUtil.getNetworkImageById(a));b&&await Promise.allSettled(b.map(a=>r._fetchNetworkImage(a)))},async fetchConnectorImages(){let{connectors:a}=l.ConnectorController.state,b=a.map(({imageId:a})=>a).filter(Boolean);await Promise.allSettled(b.map(a=>r._fetchConnectorImage(a)))},async fetchCurrencyImages(a=[]){await Promise.allSettled(a.map(a=>r._fetchCurrencyImage(a)))},async fetchTokenImages(a=[]){await Promise.allSettled(a.map(a=>r._fetchTokenImage(a)))},async fetchWallets(a){let b=a.exclude??[];r._getSdkProperties().sv.startsWith("html-core-")&&b.push(...Object.values(h.CUSTOM_DEEPLINK_WALLETS).map(a=>a.id));let c=await p.get({path:"/getWallets",params:{...r._getSdkProperties(),...a,page:String(a.page),entries:String(a.entries),include:a.include?.join(","),exclude:b.join(",")}}),{filteredWallets:d,mobileFilteredOutWalletsLength:e}=r._filterWalletsByPlatform(c?.data);return{data:d||[],count:c?.count,mobileFilteredOutWalletsLength:e}},async prefetchWalletRanks(){let a=l.ConnectorController.state.connectors;if(!a?.length)return;let b={page:1,entries:20,badge:"certified"};if(b.names=a.map(a=>a.name).join(","),k.ChainController.state.activeChain===d.ConstantsUtil.CHAIN.EVM){let c=[...a.flatMap(a=>a.connectors?.map(a=>a.info?.rdns)||[]),...a.map(a=>a.info?.rdns)].filter(a=>"string"==typeof a&&a.length>0);c.length&&(b.rdns=c.join(","))}let{data:c}=await r.fetchWallets(b);q.explorerWallets=c,l.ConnectorController.extendConnectorsWithExplorerWallets(c);let e=k.ChainController.getRequestedCaipNetworkIds().join(",");q.explorerFilteredWallets=c.filter(a=>a.chains?.some(a=>e.includes(a)))},async fetchFeaturedWallets(){let{featuredWalletIds:a}=n.OptionsController.state;if(a?.length){let b={...r._getSdkProperties(),page:1,entries:a?.length??4,include:a},{data:c}=await r.fetchWallets(b),d=[...c].sort((b,c)=>a.indexOf(b.id)-a.indexOf(c.id)),e=d.map(a=>a.image_id).filter(Boolean);await Promise.allSettled(e.map(a=>r._fetchWalletImage(a))),q.featured=d,q.allFeatured=d}},async fetchRecommendedWallets(){try{q.isFetchingRecommendedWallets=!0;let{includeWalletIds:a,excludeWalletIds:b,featuredWalletIds:c}=n.OptionsController.state,d=[...b??[],...c??[]].filter(Boolean),e=k.ChainController.getRequestedCaipNetworkIds().join(","),{data:f,count:g}=await r.fetchWallets({page:1,entries:4,include:a,exclude:d,chains:e}),h=i.StorageUtil.getRecentWallets(),j=f.map(a=>a.image_id).filter(Boolean),l=h.map(a=>a.image_id).filter(Boolean);await Promise.allSettled([...j,...l].map(a=>r._fetchWalletImage(a))),q.recommended=f,q.allRecommended=f,q.count=g??0}catch{}finally{q.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:a}){let{includeWalletIds:b,excludeWalletIds:c,featuredWalletIds:d}=n.OptionsController.state,e=k.ChainController.getRequestedCaipNetworkIds().join(","),g=[...q.recommended.map(({id:a})=>a),...c??[],...d??[]].filter(Boolean),{data:h,count:i,mobileFilteredOutWalletsLength:j}=await r.fetchWallets({page:a,entries:40,include:b,exclude:g,chains:e});q.mobileFilteredOutWalletsLength=j+(q.mobileFilteredOutWalletsLength??0);let l=h.slice(0,20).map(a=>a.image_id).filter(Boolean);await Promise.allSettled(l.map(a=>r._fetchWalletImage(a))),q.wallets=f.CoreHelperUtil.uniqueBy([...q.wallets,...r._filterOutExtensions(h)],"id").filter(a=>a.chains?.some(a=>e.includes(a))),q.count=i>q.count?i:q.count,q.page=a},async initializeExcludedWallets({ids:a}){let b={page:1,entries:a.length,include:a},{data:c}=await r.fetchWallets(b);c&&c.forEach(a=>{q.excludedWallets.push({rdns:a.rdns,name:a.name})})},async searchWallet({search:a,badge:b}){let{includeWalletIds:c,excludeWalletIds:d}=n.OptionsController.state,e=k.ChainController.getRequestedCaipNetworkIds().join(",");q.search=[];let g={page:1,entries:100,search:a?.trim(),badge_type:b,include:c,exclude:d,chains:e},{data:h}=await r.fetchWallets(g);m.EventsController.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:b??"",search:a??""}});let i=h.map(a=>a.image_id).filter(Boolean);await Promise.allSettled([...i.map(a=>r._fetchWalletImage(a)),f.CoreHelperUtil.wait(300)]),q.search=r._filterOutExtensions(h)},initPromise(a,b){let c=q.promises[a];return c||(q.promises[a]=b())},prefetch:({fetchConnectorImages:a=!0,fetchFeaturedWallets:b=!0,fetchRecommendedWallets:c=!0,fetchNetworkImages:d=!0,fetchWalletRanks:e=!0}={})=>Promise.allSettled([a&&r.initPromise("connectorImages",r.fetchConnectorImages),b&&r.initPromise("featuredWallets",r.fetchFeaturedWallets),c&&r.initPromise("recommendedWallets",r.fetchRecommendedWallets),d&&r.initPromise("networkImages",r.fetchNetworkImages),e&&r.initPromise("walletRanks",r.prefetchWalletRanks)].filter(Boolean)),prefetchAnalyticsConfig(){n.OptionsController.state.features?.analytics&&r.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{let{isAnalyticsEnabled:a}=await p.get({path:"/getAnalyticsConfig",params:r._getSdkProperties()});n.OptionsController.setFeatures({analytics:a})}catch(a){n.OptionsController.setFeatures({analytics:!1})}},filterByNamespaces(a){if(!a?.length){q.featured=q.allFeatured,q.recommended=q.allRecommended;return}let b=k.ChainController.getRequestedCaipNetworkIds().join(",");q.featured=q.allFeatured.filter(a=>a.chains?.some(a=>b.includes(a))),q.recommended=q.allRecommended.filter(a=>a.chains?.some(a=>b.includes(a))),q.filteredWallets=q.wallets.filter(a=>a.chains?.some(a=>b.includes(a)))},clearFilterByNamespaces(){q.filteredWallets=[]},setFilterByNamespace(a){if(!a){q.featured=q.allFeatured,q.recommended=q.allRecommended;return}let b=k.ChainController.getRequestedCaipNetworkIds().join(",");q.featured=q.allFeatured.filter(a=>a.chains?.some(a=>b.includes(a))),q.recommended=q.allRecommended.filter(a=>a.chains?.some(a=>b.includes(a))),q.filteredWallets=q.wallets.filter(a=>a.chains?.some(a=>b.includes(a)))}}}];

//# sourceMappingURL=node_modules_b5dafbda._.js.map